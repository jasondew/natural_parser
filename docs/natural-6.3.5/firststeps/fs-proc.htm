
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>Processing Rules and Helproutines</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="fs-proc"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../firststeps/fs-proc.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/firststeps/fs-proc.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="fs-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="fs-inlinesub.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="fs-lda.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;First Steps&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1> 
               <a name="x33"></a> 
               <a name="x34"></a>Processing Rules and Helproutines
         </h1>
      </div> 
         
      <p>Processing rules and helproutines are defined for fields in a map.</p> 
         
      <p>When you have completed the exercises below, your sample application will
             consist of the following modules (a processing rule cannot be defined as a
             separate module; it is always part of a map):
      </p> 
         
      <p><img src="graphics/fs-help.png" alt="Application structure" width="460" height="200"></p> 
         
      <p>This document contains the following
             exercises:
      </p>
      <ul>
         <li>
            <p class="initem"><a href="fs-proc.htm#fs-proc-rule">Defining a Processing Rule</a></p>
         </li>
         <li>
            <p class="initem"><a href="fs-proc.htm#fs-proc-newhelp">Defining a Helproutine</a></p>
         </li>
      </ul>
      <hr>
      <div><a name="fs-proc-rule"></a></div> 
         
      <h2>Defining a Processing Rule</h2> 
          
          
      <p>You will now define the message that is to be displayed when the user
              presses <span class="key">ENTER</span> without specifying a starting name.
      </p> 
          
      <p class="to"><img src="../graphics/bluearro.png" alt="Start of instruction set" width="18" height="15"><strong>To define a processing rule</strong></p>
      <ol class="steps">
         <li> 
                   
                   
            <p class="instep">Return to the map editor by entering the
                       following.
            </p> 
                    <pre class="command-input">EDIT MAP01</pre> 
                   
                 </li>
         <li> 
                   
                    
                     
                    
                    
                   
            <p class="instep">Use the arrow keys to select the input field for the
                       starting name. Press <span class="key">ESC</span> to redisplay the menu and choose
                       <span class="guimenu">Modify</span>. 
            </p> 
                   
                   
                   
            <p class="instep">The <span class="selectable_label">Extended Field Editing</span> window appears. 
            </p> 
                   
            <table border="1" cellpadding="5" class="screen">
               <tr>
                  <td><pre>+-Extended Field Editing-------------------------------------------------------+
&brvbar;Field : #NAME-START                                                           &brvbar;
&brvbar;Format: A Len: 20         AL: 20          PM:                  ZP: N  SG: N   &brvbar;
&brvbar;Rules : 0 Rule Editing: N Array: None     Array Editing: N     Mode:  User    &brvbar;
&brvbar;AD: ILMFHT'_'  CD:        CV:                                  DY: N  HE: N   &brvbar;
&brvbar;EM:                                                                           &brvbar;
+------------------------------------------------------------------------------+</pre></td>
               </tr>
            </table> 
                 
         </li>
         <li> 
                   
                    
                    
                   
            <p class="instep">Use <span class="key">TAB</span> to move to the field <span class="selectable_label">Rule
                  Editing</span>. Either enter "Y" in this field
                       or press <span class="key">PF2</span>.
            </p> 
                   
                   
                    
                    
                   
                   
                    
                   
            <p class="instep">The following screen appears.</p> 
                   
            <table border="1" cellpadding="5" class="screen">
               <tr>
                  <td><pre>+-Current Field: #NAME-START---------------------------------------------------+
&brvbar;                      R U L E   E D I T I N G (Esc = Quit)                    &brvbar;
&brvbar;Rules                                   Fields                                &brvbar;
+------------------------------------------------------------------------------+
                                                                                
                           End XXXXXXXXXXXXXXXXXXXX                             
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
 Create or modify a rule for this field</pre></td>
               </tr>
            </table> 
                 
         </li>
         <li> 
                   
                    
                   
            <p class="instep">Choose <span class="guimenu">Rules</span> and then
                       <span class="guimenuitem">&lt;CREATE&gt;</span>.
            </p> 
                   
                   
            <p class="instep">An empty editor window appears.</p> 
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Enter the following processing rule (use the line
                       command <code>I</code> to insert blank lines):
            </p> 
                   <pre class="verbatim">IF &amp; = ' ' THEN
  REINPUT 'Please enter a starting name.'
  MARK *&amp;
END-IF</pre> 
                   <p class="instep">The ampersand (&amp;) in the processing rule will dynamically be
                       replaced with the name of the field. In this case, it will be replaced with
                       <code>#NAME-START</code>. If <code>#NAME-START</code> is blank, the message
                       defined with the <code>REINPUT</code> statement is displayed. 
            </p> 
                   
            <p class="instep"><code>MARK</code> is an option of the <code>REINPUT</code> statement.
                       Its syntax is <code>MARK *<var>fieldname</var></code>.
                       <code>MARK</code> specifies the field in which the cursor is to be placed when
                       the <code>REINPUT</code> statement is executed. In this case, the cursor will
                       be placed in the <code>#NAME-START</code> field.
            </p> 
                   
                 
         </li>
         <li> 
                   
                    
                    
                    
                   
            <p class="instep">Enter the following in the command line:</p> <pre class="command-input">P=1</pre> 
                   <p class="instep">The rank defines the sequence in which the rules for the different
                       fields are to be processed. All rules with rank 1 are processed first, followed
                       by those with rank 2, etc.
            </p> 
                   
                   
                   
            <table border="1" cellpadding="5" class="screen">
               <tr>
                  <td><pre>EDIT:                                     S 02- ---------------Columns 001 074  
Rank:  NEW RULE      Rule:                                      Typ: R  Mode: S 
Cmnd=&gt; <strong>p=1</strong>                                                   Scroll==&gt; CSR      
****** ******************************* top of data *****************************
000001 IF &amp; = ' ' THEN                                                          
000002   REINPUT 'PLEASE ENTER A STARTING NAME.'                                
000003   MARK *&amp;                                                                
000004 END-IF                                                                   
****** ***************************** bottom of data ****************************
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
PF1---PF2---PF3---PF4---PF5---PF6---PF7---PF8---PF9---PF10--PF11--PF12--
P     U     End   P*    Rfind Rchng Up    Down        Right Left  Home</pre></td>
               </tr>
            </table> 
                 
         </li>
         <li> 
                   
                    
                   
            <p class="instep">Press <span class="key">ENTER</span> to save your input.
                       
            </p> 
                    
                   
                   
                   
            <p class="instep">The following screen appears again. Your new rule with the
                       rank 1 is now shown below <span class="guimenuitem">&lt;CREATE&gt;</span>. When you
                       select this rule, the first lines of your code are shown at the bottom of the
                       screen.
            </p> 
                   
            <table border="1" cellpadding="5" class="screen">
               <tr>
                  <td><pre>+-Current Field: #NAME-START---------------------------------------------------+
&brvbar;                      R U L E   E D I T I N G (Esc = Quit)                    &brvbar;
&brvbar;Rules                                   Fields                                &brvbar;
+--------+---------------------------------------------------------------------+
&brvbar;&lt;CREATE&gt;&brvbar;                                                                      
&brvbar;       1&brvbar;             End XXXXXXXXXXXXXXXXXXXX                                 
+--------+                                                                      
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
0010 IF &amp; = ' ' THEN                                                            
0020   REINPUT 'PLEASE ENTER A STARTING NAME.'                                  
0030   MARK *&amp;                                                                  
                                                                                
 Create or modify a rule for this field</pre></td>
               </tr>
            </table> 
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Press <span class="key">ESC</span> repeatedly until the Natural Map Editor menu is
                       shown again.
            </p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Test the map.</p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">In the resulting output, enter any starting name and press
                       <span class="key">ENTER</span>. 
            </p> 
                   
                   
            <p class="instep">The output screen is closed.</p> 
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Test the map once more. Do not enter a name and press
                       <span class="key">ENTER</span>. 
            </p> 
                   
                   
            <p class="instep">The message defined with the processing rule should now appear in the
                       map.
            </p> 
                 
         </li>
         <li> 
                   
                   
            <p class="instep">To leave the output screen, enter a dot (.) in the field which prompts for a
                       starting name and press <span class="key">ENTER</span>.
            </p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Stow the map.</p> 
                   
                 
         </li>
      </ol> 
         
      <div class="noprint">
         <p><a href="fs-proc.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="fs-proc-newhelp"></a></div> 
         
      <h2>Defining a Helproutine</h2> 
          
          
      <p>A helproutine is displayed when the user presses the help key when the
              cursor is on the input field for the starting name. 
      </p> 
          
      <p>You will first define the helproutine and then associate it with a
              specific field.
      </p> 
          
      <p class="to"><img src="../graphics/bluearro.png" alt="Start of instruction set" width="18" height="15"><strong>To create a helproutine</strong></p>
      <ol class="steps">
         <li> 
                   
                    
                    
                   
            <p class="instep"> From the Natural Map Editor menu, choose
                       <span class="guimenu">Quit</span>.
            </p> 
                   
                   
                   
            <p class="instep"> Natural's main menu is shown again with the <span class="selectable_label">Direct
                  Command</span> window prompting for input.
            </p> 
                 
         </li>
         <li> 
                   
                    
                    
                    
                    
                   
            <p class="instep">Enter one of the following:</p> <pre class="command-input">EDIT PROGRAM</pre> <pre class="command-input">E P</pre> 
                   
                   <p class="instep">An empty editor appears.</p> 
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Enter the following:</p> 
                   <pre class="verbatim">WRITE 'Type the name of an employee'
END</pre> 
                   
                 </li>
         <li> 
                   
                   
            <p class="instep">Change the program to a helproutine by entering the following in the
                       program editor's command line:
            </p> <pre class="command-input">SET TYPE H</pre> 
                   <p class="instep">where "H" denotes helproutine.</p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Stow the helproutine and name it
                       <code>HLP01</code>.
            </p> <pre class="command-input">STOW HLP01</pre> 
                   
                 </li>
      </ol> 
          
      <p class="to"><img src="../graphics/bluearro.png" alt="Start of instruction set" width="18" height="15"><strong>To associate the helproutine with a field on the map</strong></p>
      <ol class="steps">
         <li> 
                   
                   
            <p class="instep">Return to the map editor by entering the
                       following in the command line of the screen in which you have just entered the
                       helproutine.
            </p> <pre class="command-input">E MAP01</pre> 
                   
                 </li>
         <li> 
                   
                   
            <p class="instep">Select the data field for the starting name, press <span class="key">ESC</span> to display the Natural Map Editor menu and
                       choose <span class="guimenu">Modify</span>.
            </p> 
                     
                   
                   
                   
            <p class="instep">The <span class="selectable_label">Extended Field Editing</span> window is
                       displayed for the field.
            </p> 
                   
                 
         </li>
         <li> 
                   
                    
                   
            <p class="instep">Use <span class="key">TAB</span> to move to the field
                       <span class="selectable_label">HE</span>. Either enter "Y" in this
                       field or press <span class="key">PF2</span>.
            </p> 
                   
                   
                    
                   
            <p class="instep">A window appears prompting for the name of the
                       helproutine.
            </p> 
                 
         </li>
         <li> 
                   
                   
            <p class="instep">In the <span class="selectable_label">HE</span> field enter
                       "'HLP01'" (including the single quotation
                       marks).
            </p> 
                   
            <p class="instep">This is the name under which you have saved your helproutine.</p> 
                    
                   
            <table border="1" cellpadding="5" class="screen">
               <tr>
                  <td><pre>XXXXXXXXXX                                                           TT:TT:TT   
                                                                                
                                                                                
                         Start XXXXXXXXXXXXXXXXXXXX                             
                                                                                
                           End XXXXXXXXXXXXXXXXXXXX                             
                                                                                
                                                                                
                                                                                
                                                                                
     +-HE-----------------------------------------------------------------+     
     &brvbar;HE: <strong>'HLP01'</strong>                                                         &brvbar;     
     &brvbar;                                                                    &brvbar;     
     +--------------------------------------------------------------------+     
                                                                                
+-Extended Field Editing-------------------------------------------------------+
&brvbar;Field : #NAME-START                                                           &brvbar;
&brvbar;Format: A Len: 20         AL: 20          PM:                  ZP: N  SG: N   &brvbar;
&brvbar;Rules : 1 Rule Editing: Y Array: None     Array Editing: N     Mode:  User    &brvbar;
&brvbar;AD: MILFHT'_'  CD:        CV:                                  DY: N  HE: Y   &brvbar;
&brvbar;EM:                                                                           &brvbar;
+------------------------------------------------------------------------------+
 Helproutine and Parameters</pre></td>
               </tr>
            </table> 
                   
                 
         </li>
         <li> 
                   
                    
                    
                   
            <p class="instep">Press <span class="key">ENTER</span> twice to save your changes and
                       close all windows.
            </p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Test the map.</p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">In the resulting output, enter a question mark (?) in the input field
                       for the starting name. 
            </p>
                   
                   
                   
            <p class="instep">The help text you have defined is shown.</p> 
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Press <span class="key">ENTER</span> to return to the map.
            </p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">To leave the map, enter a dot (.) in the field which prompts for a
                       starting name and press <span class="key">ENTER</span>.
            </p> 
                   
                 
         </li>
         <li> 
                   
                   
            <p class="instep">Stow the map.</p> 
                   
                 
         </li>
         <li> 
                   
                    
                    
                   
            <p class="instep"> From the Natural Map Editor menu, choose
                       <span class="guimenu">Quit</span>.
            </p> 
                   
                   
                   
            <p class="instep"> Natural's main menu is shown again with the <span class="selectable_label">Direct
                  Command</span> window prompting for input.
            </p> 
                 
         </li>
      </ol> 
          
      <p>You can now proceed with the next exercises: <a href="fs-lda.htm#fs-lda">Local Data Areas</a>.
      </p> 
         
      <div class="noprint">
         <div class="nospy">
            <p><a href="fs-proc.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../firststeps/fs-proc.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/firststeps/fs-proc.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="fs-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="fs-inlinesub.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="fs-lda.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>