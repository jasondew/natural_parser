
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>Examples</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="xml_exa"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../webtech/xml_exa.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/webtech/xml_exa.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="xml-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="xml_nixe.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="xml_err.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Web Technology&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1> Examples</h1>
      </div> 
         
         
      <p>The following examples are included:</p> 
      <ul>
         <li>
            <p class="initem"><a href="xml_exa.htm#exa_serialize_copycode">Serialize Copycode</a></p>
         </li>
         <li>
            <p class="initem"><a href="xml_exa.htm#exa_generated_nda">Generated Natural Data Area</a></p>
         </li>
         <li>
            <p class="initem"><a href="xml_exa.htm#exa_nat_dtd_parser">Natural DTD Parser</a></p>
         </li>
         <li>
            <p class="initem"><a href="xml_exa.htm#exa_generated_type_def">Generated Type Definition</a></p>
         </li>
         <li>
            <p class="initem"><a href="xml_exa.htm#exa_parser_callback_copycode">Parser CALLBACK Copycode</a></p>
         </li>
      </ul> 
        
      <hr> 
        
      <div><a name="exa_serialize_copycode"></a></div> 
         
      <h2> Serialize Copycode 
             <a name="x570"></a></h2> 
          
          
      <p>Using the XML Toolkit, a copycode can be generated that can be used to
              convert a Natural group structure into an XML document.
      </p> 
          
      <p>The callback copycode takes the following operands:</p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Operand</th> 
                       
               <th>Format/Length</th> 
                       
               <th>Description</th> 
                       
               <th>from PARSER-X</th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td>1</td> 
                       
               <td>A</td> 
                       
               <td><a href="../ops/ops-natbpmon.htm">ex-XPATH</a> to represent element structure
               </td> 
                       
               <td>operand2</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>2</td> 
                       
               <td>A1</td> 
                       
               <td> 
                  
                  <p>Type of the XPATH content:</p> 
                           
                  <table border="0" cellpadding="3" margin-top="9pt">
                     <tbody valign="top">
                        <tr align="left"> 
                                      
                           <td class="titem">?</td> 
                                      
                           <td class="titem">Processing instruction</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">D</td> 
                                      
                           <td class="titem">DOCTYPE</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">!</td> 
                                      
                           <td class="titem">Comment</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">C</td> 
                                      
                           <td class="titem">CDATA section</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">T</td> 
                                      
                           <td class="titem">Starting Tag</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">@</td> 
                                      
                           <td class="titem">Attribute</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">/</td> 
                                      
                           <td class="titem">Close Tag</td> 
                                     
                        </tr>
                     </tbody>
                  </table> 
               </td> 
                       
               <td>operand3</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>3</td> 
                       
               <td>A</td> 
                       
               <td>Parsed Data</td> 
                       
               <td>operand4</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>4</td> 
                       
               <td>L</td> 
                       
               <td>Is TRUE if Parsed Data is empty</td> 
                       
               <td>operand5</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>5</td> 
                       
               <td>I4</td> 
                       
               <td>Counter Variable 1st Dimension</td> 
                       
               <td>&nbsp; </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>6</td> 
                       
               <td>I4</td> 
                       
               <td>Counter Variable 2nd Dimension</td> 
                       
               <td>&nbsp; </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>7</td> 
                       
               <td>I4</td> 
                       
               <td>Counter Variable 3rd Dimension</td> 
                       
               <td>&nbsp; </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <h4 class="floating-title">Copycode Example EMPL-C:</h4> 
          <pre class="verbatim">
* 
---------------------------------------------------------------------- * Parameter 
Definition * * &amp;1&amp; 'XML' /* XML Document * &amp;2&amp; '#CX' /* Counter 
Variable 1st Dimension * &amp;3&amp; '#CY' /* Counter Variable 2nd Dimension * 
&amp;4&amp; '#CZ' /* Counter Variable 3rd Dimension * ---------------------------------------------------------------------- 
* DTD E-\SAG\nat\NATAPPS\FUSER\XMLTK\RES\empl.dtd COMPRESS &amp;1&amp; '&lt;EMPLOYEE' 
' PERSONNEL-ID="'EMPLOYEE.PERSONNEL-ID '"' '&gt;' INTO &amp;1&amp; LEAVING NO 
/* now the children COMPRESS &amp;1&amp; '&lt;FULL-NAME' '&gt;' INTO &amp;1&amp; 
LEAVING NO /* now the children COMPRESS &amp;1&amp; '&lt;FIRST-NAME' '&gt;' EMPLOYEE.FIRST-NAME 
'&lt;/FIRST-NAME&gt;' INTO &amp;1&amp; LEAVING NO COMPRESS &amp;1&amp; '&lt;NAME' 
'&gt;' EMPLOYEE.NAME '&lt;/NAME&gt;' INTO &amp;1&amp; LEAVING NO /* COMPRESS &amp;1&amp; 
'&lt;/FULL-NAME&gt;' INTO &amp;1&amp; LEAVING NO COMPRESS &amp;1&amp; '&lt;FULL-ADDRESS' 
'&gt;' INTO &amp;1&amp; LEAVING NO /* now the children FOR &amp;2&amp; = 1 TO 
EMPLOYEE.C@ADDRESS-LINE COMPRESS &amp;1&amp; '&lt;ADDRESS-LINE' '&gt;' EMPLOYEE.ADDRESS-LINE(&amp;2&amp;) 
'&lt;/ADDRESS-LINE&gt;' INTO &amp;1&amp; LEAVING NO END-FOR COMPRESS &amp;1&amp; 
'&lt;CITY' '&gt;' EMPLOYEE.CITY '&lt;/CITY&gt;' INTO &amp;1&amp; LEAVING NO COMPRESS 
&amp;1&amp; '&lt;ZIP' '&gt;' EMPLOYEE.ZIP '&lt;/ZIP&gt;' INTO &amp;1&amp; LEAVING 
NO COMPRESS &amp;1&amp; '&lt;COUNTRY' '&gt;' EMPLOYEE.COUNTRY '&lt;/COUNTRY&gt;' 
INTO &amp;1&amp; LEAVING NO /* COMPRESS &amp;1&amp; '&lt;/FULL-ADDRESS&gt;' INTO 
&amp;1&amp; LEAVING NO COMPRESS &amp;1&amp; '&lt;TELEPHONE' '&gt;' INTO &amp;1&amp; 
LEAVING NO /* now the children COMPRESS &amp;1&amp; '&lt;PHONE' '&gt;' EMPLOYEE.PHONE 
'&lt;/PHONE&gt;' INTO &amp;1&amp; LEAVING NO COMPRESS &amp;1&amp; '&lt;AREA-CODE' 
'&gt;' EMPLOYEE.AREA-CODE '&lt;/AREA-CODE&gt;' INTO &amp;1&amp; LEAVING NO /* 
COMPRESS &amp;1&amp; '&lt;/TELEPHONE&gt;' INTO &amp;1&amp; LEAVING NO COMPRESS 
&amp;1&amp; '&lt;JOB-TITLE' '&gt;' EMPLOYEE.JOB-TITLE '&lt;/JOB-TITLE&gt;' INTO 
&amp;1&amp; LEAVING NO FOR &amp;2&amp; = 1 TO EMPLOYEE.C@INCOME COMPRESS &amp;1&amp; 
'&lt;INCOME' '&gt;' INTO &amp;1&amp; LEAVING NO /* now the children COMPRESS &amp;1&amp; 
'&lt;SALARY' '&gt;' EMPLOYEE.SALARY(&amp;2&amp;) '&lt;/SALARY&gt;' INTO &amp;1&amp; 
LEAVING NO FOR &amp;3&amp; = 1 TO EMPLOYEE.C@BONUS(&amp;2&amp;) COMPRESS &amp;1&amp; 
'&lt;BONUS' '&gt;' EMPLOYEE.BONUS(&amp;2&amp;,&amp;3&amp;) '&lt;/BONUS&gt;' INTO 
&amp;1&amp; LEAVING NO END-FOR /* COMPRESS &amp;1&amp; '&lt;/INCOME&gt;' INTO 
&amp;1&amp; LEAVING NO END-FOR /* COMPRESS &amp;1&amp; '&lt;/EMPLOYEE&gt;' INTO 
&amp;1&amp; LEAVING NO 
</pre> 
           
           
           
          <pre class="verbatim">
* 
---------------------------------------------------------------------- * CLASS 
NATURAL XML TOOLKIT * * * DESCRIPTION * Serialize a given Data structure. * * 
* AUTHOR SAG 01.2006 * * VERSION 6.2. * * (c) Copyright Software AG 2006. All 
rights reserved. * * ---------------------------------------------------------------------- 
* DEFINE DATA 
<strong>LOCAL USING EMPL</strong> /* add generated data structure LOCAL 1 
XML (A) DYNAMIC * 1 OUT (A72) 1 II (I4) * 1 OUTDYN (A) DYNAMIC 1 OBJLEN (I4) 1 
OBJEND (I4) 1 OBJSTART (I4) 1 OBJLINE (I4) * 1 #CX (I4) 1 #CY (I4) 1 #CZ (I4) 
END-DEFINE * EMPLOYEE.PERSONNEL-ID := 4711 * EMPLOYEE.FIRST-NAME := "ADKINSON" 
EMPLOYEE.NAME := "MARTHA" * EMPLOYEE.C@ADDRESS-LINE := 2 EMPLOYEE.ADDRESS-LINE(1) 
:= "8603 GARLAND COURT" EMPLOYEE.ADDRESS-LINE(2) := "FRAMINGHAM" EMPLOYEE.ADDRESS-LINE(2) 
:= "MA" EMPLOYEE.CITY := "FRAMINGHAM" EMPLOYEE.ZIP := "17010" EMPLOYEE.COUNTRY 
:= "USA" * EMPLOYEE.AREA-CODE := "617" EMPLOYEE.PHONE := "210-4703" * EMPLOYEE.JOB-TITLE 
:= "MANAGER" EMPLOYEE.C@INCOME := 2 EMPLOYEE.SALARY(1) := 47000 EMPLOYEE.C@BONUS(1) 
:= 2 EMPLOYEE.BONUS(1,1) := 10500 EMPLOYEE.BONUS(1,2) := 7875 * EMPLOYEE.SALARY(2) 
:= 47000 EMPLOYEE.C@BONUS(2) := 1 EMPLOYEE.BONUS(2,1) := 35700 * 
<strong>INCLUDE EMPL-C</strong> 
"XML" "#CX" "#CY" "#CZ" /* add generated Serialize * FOR II = 1 TO *LENGTH(XML) 
STEP 72 OUT := SUBSTR(XML,II) WRITE OUT END-FOR * NEWPAGE * /* WRITE COMPLETE 
(A) DYNAMIC VARIABLE IF POSSIBLE USE CR AND IGNORE LF OBJSTART := 1 * EXAMINE 
xml FOR "&gt;&lt;" REPLACE WITH "&gt;" - H'0A' -"&lt;" EXAMINE xml FOR H'0A' GIVING 
POSITION OBJEND * REPEAT WHILE OBJEND NE 0 /* IF OBJSTART GT 0 THEN ADD OBJSTART 
TO OBJEND END-IF /* OBJLEN := OBJEND - OBJSTART -1 /* IF OBJLEN &gt; 0 THEN OUTDYN 
:= SUBSTRING(xml, OBJSTART, OBJLEN) /* FOR OBJLINE = 1 TO *LENGTH(OUTDYN) STEP 
72 OUT := SUBSTR (OUTDYN,OBJLINE) WRITE OUT END-FOR ELSE WRITE " " END-IF /* OBJSTART 
:= OBJEND IF OBJSTART GT *LENGTH(xml) ESCAPE BOTTOM END-IF /* EXAMINE SUBSTRING(xml,OBJSTART) 
FOR H'0A' GIVING POSITION OBJEND END-REPEAT * END 
</pre> 
           
           
          <h4 class="floating-title">Natural PDA EMPL Used:</h4> 
          <pre class="verbatim">
DEFINE DATA PARAMETER 1 EMPLOYEE 2 ATTRIBUTES_OF_EMPLOYEE 
3 PERSONNEL-ID(A8) * 2 FULL-NAME 3 FIRST-NAME(A20) 3 NAME(A20) * 2 FULL-ADDRESS 
3 C@ADDRESS-LINE(I4) 3 ADDRESS-LINE(A20/1:6) 3 CITY(A20) 3 ZIP(A20) 3 COUNTRY(A3) 
* 2 TELEPHONE 3 AREA-CODE(A6) 3 PHONE(A15) * 2 JOB-TITLE(A25) * 2 C@INCOME(I4) 
2 INCOME(1:6) 3 SALARY(A9) 3 C@BONUS(I4) 3 BONUS(A9/1:4) END-DEFINE 
</pre> 
          
        
        
        <div class="noprint">
         <p><a href="xml_exa.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="exa_generated_nda"></a></div> 
         
      <h2> Generated Natural Data Area 
             <a name="x572"></a></h2> 
          
          
      <p>Using the XML Toolkit, a Natural Data Area, or more precisely a Local
              Data Area, Parameter Data Area or Global Data Area, can be generated that
              represents a given Document Type Definition.
      </p> 
          
      <p> <strong>Generation Rules:</strong> 
      </p> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">Each Empty Element without Attributes (&lt;!ELEMENT br EMPTY&gt;) is
                      generated as a Natural variable of Type B1. This is necessary, because empty
                      Natural groups are not allowed.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Each Empty Element with Attributes (&lt;!ELEMENT br
                      EMPTY&gt;&lt;!ATTLIST br width CDATA #IMPLIED&gt;) is generated as a Natural
                      group.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Each Element with content (&lt;!ELEMENT b (#PCDATA)&gt; )is generated
                      as a Natural variable of type A253.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Each Sequence of Elements (&lt;!ELEMENT spec (front, body*,
                      back?)&gt;) or Choice of Elements (&lt;!ELEMENT div1 (p | list | note)&gt;) is
                      generated as a Natural group.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Each clasped Sequence or Choice (&lt;!ELEMENT address ( (street,
                      housenumber), (zip, city) )&gt;) is generated as a special group with the name
                      prefix "##PSEUDO". This gives the possibility to represent the context or
                      possible multiplicities.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Each Attribute (&lt;!ATTLIST br width CDATA #IMPLIED&gt;) of an
                      Element is generated as variable of Type A253 belonging to a group with the
                      name prefix "ATTRIBUTES_OF_" followed by the name of the element.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Multiple Elements are always generated as arrays of Dimension 1:v. The
                      upper bound of the generated array has to be changed manually.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">If an Element is defined multiple (&lt;!ELEMENT spec (front,
                      <var>body*</var>)&gt;), an additional counter field C@BODY, is
                      generated to specify the number of available elements.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">All names used inside the DTD are converted into upper case, because
                      Natural names are not case sensitive. Duplicate names inside a generated group
                      will be a extended with an suffix to make the names unique.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Special Characters not valid for Natural names are converted into
                      valid Natural names. For the conversion settings, see the option dialog of the
                      XML Toolkit.
            </p> 
                 
         </li> 
             
      </ul> 
          
      <h4 class="floating-title">Restrictions:</h4> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">Elements with Mixed content data (&lt;!ELEMENT p (#PCDATA | a | ul | b
                      | i | em)*&gt;) are not supported.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">DTDs that result in Natural data structures can not be used within
                      Natural, because Natural only supports data structures with a maximum of three
                      dimensions.
            </p> 
                 
         </li> 
             
      </ul> 
          
      <h4 class="floating-title">Example DTD:</h4> 
          <pre class="verbatim">
&lt;!ELEMENT EMPLOYEE  (FULL-NAME , FULL-ADDRESS , TELEPHONE ,JOB-TITLE, INCOME* )&gt;
&lt;!ATTLIST EMPLOYEE PERSONNEL-ID CDATA  #REQUIRED &gt;

&lt;!ELEMENT FULL-NAME  (FIRST-NAME , NAME )&gt;
&lt;!ELEMENT FIRST-NAME  (#PCDATA )&gt;
&lt;!ELEMENT NAME  (#PCDATA )&gt;

&lt;!ELEMENT FULL-ADDRESS  (ADDRESS-LINE* , CITY , ZIP , COUNTRY )&gt;
&lt;!ELEMENT ADDRESS-LINE  (#PCDATA )&gt;
&lt;!ELEMENT CITY  (#PCDATA )&gt;
&lt;!ELEMENT ZIP  (#PCDATA )&gt;
&lt;!ELEMENT COUNTRY  (#PCDATA )&gt;

&lt;!ELEMENT TELEPHONE  (PHONE , AREA-CODE )&gt;
&lt;!ELEMENT PHONE  (#PCDATA )&gt;
&lt;!ELEMENT AREA-CODE  (#PCDATA )&gt;

&lt;!ELEMENT JOB-TITLE (#PCDATA )&gt;

&lt;!ELEMENT INCOME  (SALARY , BONUS* )&gt;
&lt;!ELEMENT SALARY  (#PCDATA )&gt;
&lt;!ELEMENT BONUS  (#PCDATA )&gt;
</pre> 
          <p> Generated Natural Data Area (<i>italic</i>
              written parts of the DTD, but necessary for Natural): 
      </p> 
          <pre class="verbatim">
DEFINE DATA PARAMETER
1 EMPLOYEE
  <var>2</var> <var>ATTRIBUTES_OF_EMPLOYEE</var>
    3 PERSONNEL-ID(<var>A253</var>)
*
  2 FULL-NAME
    3 FIRST-NAME(<var>A253</var>)
    3 NAME(<var>A253</var>)
*
  2 FULL-ADDRESS
    <var>3</var> <var>C@ADDRESS-LINE(I4)</var>
    3 ADDRESS-LINE(<var>A253</var>/<var>1:v</var>)
    3 CITY(<var>A253</var>)
    3 ZIP(<var>A253</var>)
    3 COUNTRY(<var>A253</var>)
*
  2 TELEPHONE
    3 AREA-CODE(<var>A253</var>)
    3 PHONE(<var>A253</var>)
*
  2 JOB-TITLE(<var>A253</var>)
*
  <var>2</var> <var>C@INCOME(I4)</var>
  2 INCOME(<var>1:v</var>)
    3 SALARY(<var>A253</var>)
    <var>3</var> <var>C@BONUS(I4)</var>
    3 BONUS(<var>A253/1:v</var>)
END-DEFINE
</pre> 
          
        
        <div class="noprint">
         <p><a href="xml_exa.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="exa_nat_dtd_parser"></a></div> 
         
      <h2> Natural DTD Parser 
             <a name="x573"></a></h2> 
          
          
      <p> <strong>Translation Rules:</strong> 
      </p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Natural</th> 
                       
               <th>Document Type Definiton</th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                           1 G1 <br> 
                           2 E1 (A&acirc;&#8364;&brvbar;) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     &lt;!ELEMENT G1 (E1)&gt; <br> 
                             &lt;!ELEMENT E1 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                           1 G1 <br> 
                               2 E1 (A&acirc;&#8364;&brvbar;) <br> 
                               2 E2 (A&acirc;&#8364;&brvbar;) <br> 
                               2 E3 (A&acirc;&#8364;&brvbar;) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     &lt;!ELEMENT G1 (E1, E2, E3)&gt; <br> 
                               &lt;!ELEMENT E1 (#PCDATA)&gt; <br> 
                               &lt;!ELEMENT E2 (#PCDATA)&gt; <br> 
                               &lt;!ELEMENT E3 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     1 C@E1_MAX (I4) CONST &lt;10&gt; <br> 
                               1 G1 <br> 
                               2 C@E1 (I4) <br> 
                               2 E1 (A&acirc;&#8364;&brvbar;/1:C@E1_MAX) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                               <br> 
                        &lt;!ELEMENT G1 (E1*)&gt; <br> 
                                <br> 
                               &lt;!ELEMENT E1 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     1 C@E1_MAX (I4) CONST &lt;10&gt; <br> 
                               1 G1 <br> 
                               2 C@E1 (I4) <br> 
                               2 E1 (A&acirc;&#8364;&brvbar;/1:C@E1_MAX) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                               <br> 
                        &lt;!ELEMENT G1 (E1+)&gt; <br> 
                                <br> 
                               &lt;!ELEMENT E1 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                           1 G1 <br> 
                           2 E1 (A&acirc;&#8364;&brvbar;) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     &lt;!ELEMENT G1 (E1?)&gt; <br> 
                              &lt;!ELEMENT E1 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                           1 G1 <br> 
                               2 E1 (A&acirc;&#8364;&brvbar;) <br> 
                               2 E2 (A&acirc;&#8364;&brvbar;) <br> 
                               2 E3 (A&acirc;&#8364;&brvbar;) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     &lt;!ELEMENT G1 (E1| E2| E3)&gt; <br> 
                               &lt;!ELEMENT E1 (#PCDATA)&gt; <br> 
                               &lt;!ELEMENT E2 (#PCDATA)&gt; <br> 
                               &lt;!ELEMENT E3 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                           1 G1 <br> 
                               2 E1 (A&acirc;&#8364;&brvbar;) <br> 
                               2 E2 (A&acirc;&#8364;&brvbar;) <br> 
                               2 G2 <br> 
                               2 E1_2 (A&acirc;&#8364;&brvbar;) <br> 
                               2 E3 (A&acirc;&#8364;&brvbar;) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     &lt;!ELEMENT G1 (E1, E2, G2)&gt; <br> 
                               &lt;!ELEMENT E1 (#PCDATA)&gt; <br> 
                               &lt;!ELEMENT E2 (#PCDATA)&gt; <br> 
                               &lt;!ELEMENT G2 (E1, E3)&gt; <br> 
                                <br> 
                               &lt;!ELEMENT E3 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                          1 #G1 <br> 
                           2 #E1 (A&acirc;&#8364;&brvbar;) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     &lt;!ELEMENT G1 (E1)&gt; <br> 
                             &lt;!ELEMENT E1 (#PCDATA)&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     2 E1 (A&acirc;&#8364;&brvbar;) <br> 
                               3 ATTRIBUTES_OF_E1 <br> 
                               4 A1 (A&acirc;&#8364;&brvbar;) CONST &lt;'schema'&gt; <br> 
                               4 A2 (A&acirc;&#8364;&brvbar;) <br> 
                               4 A3 (A&acirc;&#8364;&brvbar;) 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p class="mini-list"> 
                     &lt;!ELEMENT E1 (#PCDATA)&gt; <br> 
                                <br> 
                               &lt;!ATTLIST E1 A1 #FIXED "schema" <br> 
                               A2 NMTOKEN #IMPLIED <br> 
                               A3 ID #REQUIRED&gt; 
                              
                  </p>
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
        
        
      <div class="noprint">
         <p><a href="xml_exa.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="exa_generated_type_def"></a></div> 
         
      <h2> Generated Type Definition 
             <a name="x574"></a></h2> 
          
          
      <p>Using the XML Toolkit, a <a href="../pg/pg_obj_darea.htm">Natural
                 Data Area</a>, or more precisely a
              <a href="../pg/pg_obj_darea.htm#Local_Data_Area">Local Data
                 Area</a>, <a href="../pg/pg_obj_darea.htm#Parameter_Data_Area">Parameter Data Area</a>
              or <a href="../pg/pg_obj_darea.htm#Global_Data_Area">Global Data
                 Area</a>, can be used to generate a Document Type Definition.
      </p> 
          
      <h4 class="floating-title">Generation Rules:</h4> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">A Natural variable will result in an element with content.</p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">A Natural group will result in a sequence of elements.</p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Multiple variables or groups will be generated with multiplicity "zero
                      or more".
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Special characters not valid for XML names are converted into valid
                      names. For the conversion settings, see the <a href="xml_opti.htm#xml_opti">options screen</a> of the XML Toolkit.
            </p> 
                 
         </li> 
             
      </ul> 
          
      <p> <strong>Example Natural Data Area:</strong> 
      </p> 
          <pre class="verbatim">
DEFINE DATA LOCAL
1 NAT$EMPLOYEE
  2 ATTRIBUTES_OF_NAT$EMPLOYEE
    3 PERSONNEL/ID(A8)
  2 C@MAN@WORK(I4)
  2 MAN@WORK
    3 JOB(A10)
  2 A$TEST$MAKL(I4)
  2 AS/FA/SD(P7.5)
  2 #ASDFAS(F4)
  2 ASF#AS(N9)
  2 A-SF-D(A) Dynamic
  2 INC@OME(1:6)
    3 C@BONUS(I4)
    3 BONUS(A9/1:4)
END-DEFINE
</pre> 
          <h4 class="floating-title">Generated DTD:</h4> 
          <pre class="verbatim">
&lt;!-- DTD XMLTOOLS BEISP --&gt; 
&lt;!ELEMENT NATdollarEMPLOYEE ( MANatWORK , AdollarTESTdollarMAKL , 
           ASslashFAslashSD , hashASDFAS , ASFhashAS , A-SF-D , INCatOME* ) &gt; 
&lt;!ATTLIST NATdollarEMPLOYEE PERSONNELslashID CDATA #IMPLIED &gt; 
&lt;!ELEMENT MANatWORK ( JOB ) &gt; 
&lt;!ELEMENT JOB (#PCDATA) &gt;
&lt;!ELEMENT AdollarTESTdollarMAKL (#PCDATA) &gt;
&lt;!ELEMENT ASslashFAslashSD (#PCDATA) &gt;
&lt;!ELEMENT hashASDFAS (#PCDATA) &gt;
&lt;!ELEMENT ASFhashAS (#PCDATA) &gt;
&lt;!ELEMENT A-SF-D (#PCDATA) &gt;
&lt;!ELEMENT INCatOME ( BONUS* ) &gt; 
&lt;!ELEMENT BONUS (#PCDATA) &gt;
</pre> 
          
        
        <div class="noprint">
         <p><a href="xml_exa.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="exa_parser_callback_copycode"></a></div> 
         
      <h2> Parser CALLBACK Copycode 
             <a name="x575"></a></h2> 
          
          
      <p>Using the XML Toolkit, a copycode can be generated that can be used with
              the <strong>N</strong>atural S <strong>i</strong>mple <strong>X</strong>ML Pars
              <strong>e</strong>r.
      </p> 
          
      <p>The callback copycode takes the following operands:</p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Operand</th> 
                       
               <th>Format/Length</th> 
                       
               <th>Description</th> 
                       
               <th>from PARSER-X</th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td>1</td> 
                       
               <td>A</td> 
                       
               <td> <a href="xml_nixe.htm#exxpath">ex-XPATH</a> to repesent
                  element structure
               </td> 
                       
               <td>operand2</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>2</td> 
                       
               <td>A1</td> 
                       
               <td> 
                  
                  <p>Type of the XPATH content:</p> 
                           
                  <table border="0" cellpadding="3" margin-top="9pt">
                     <tbody valign="top">
                        <tr align="left"> 
                                      
                           <td class="titem">?</td> 
                                      
                           <td class="titem">Processing instruction</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">D</td> 
                                      
                           <td class="titem">DOCTYPE</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">!</td> 
                                      
                           <td class="titem">Comment</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">C</td> 
                                      
                           <td class="titem">CDATA section</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">T</td> 
                                      
                           <td class="titem">Starting Tag</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">@</td> 
                                      
                           <td class="titem">Attribute</td> 
                                     
                        </tr>
                        <tr align="left"> 
                                      
                           <td class="titem">/</td> 
                                      
                           <td class="titem">Close Tag</td> 
                                     
                        </tr>
                     </tbody>
                  </table> 
               </td> 
                       
               <td>operand3</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>3</td> 
                       
               <td>A</td> 
                       
               <td>Content of found element</td> 
                       
               <td>operand4</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>4</td> 
                       
               <td>L</td> 
                       
               <td>Is TRUE if Parsed Data is empty</td> 
                       
               <td>operand5</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>5</td> 
                       
               <td>I4</td> 
                       
               <td>Counter Variable 1stDimension</td> 
                       
               <td>&nbsp;</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>6</td> 
                       
               <td>I4</td> 
                       
               <td>Counter Variable 2nd Dimension</td> 
                       
               <td>&nbsp;</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>7</td> 
                       
               <td>I4</td> 
                       
               <td>Counter Variable 3rd Dimension</td> 
                       
               <td>&nbsp;</td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <h4 class="floating-title">Copycode Example EMPL-P:</h4> 
          <pre class="verbatim">
* ----------------------------------------------------------------------
* Paremeter Definition
*
* &amp;1&amp; 'XML_PARSER_XPATH'              /* XPATH to repesent element...
* &amp;2&amp; 'XML_PARSER_XPATH_TYPE'         /* Type of the XPATH:
*                                        ? Processing instruction
*                                        D DOCTYPE
*                                        ! Comment
*                                        C CDATA section
*                                        T Starting Tag
*                                        @ Attribute
*                                        / Close Tag
*                                        $ Parsed Data
* &amp;3&amp; 'XML_PARSER_CONTENT'            /* Content of found element
* &amp;4&amp; 'XML_PARSER_CONTENT_IS_EMPTY'   /* Is TRUE if Content is empty
* &amp;5&amp; '#CX'                           /* Counter Variable 1st Dimension
* &amp;6&amp; '#CY'                           /* Counter Variable 2nd Dimension
* &amp;7&amp; '#CZ'                           /* Counter Variable 3rd Dimension
* ----------------------------------------------------------------------
*
DECIDE ON FIRST &amp;1&amp;
VALUE 'EMPLOYEE'
RESET EMPLOYEE
VALUE 'EMPLOYEE/@PERSONNEL-ID'
  /* #REQUIRED
  EMPLOYEE.PERSONNEL-ID := &amp;3&amp;
VALUE 'EMPLOYEE/FULL-NAME'
  IGNORE
VALUE 'EMPLOYEE/FULL-NAME/FIRST-NAME'
  IGNORE
VALUE 'EMPLOYEE/FULL-NAME/FIRST-NAME/$'
  EMPLOYEE.FIRST-NAME := &amp;3&amp;
VALUE 'EMPLOYEE/FULL-NAME/NAME'
  IGNORE
VALUE 'EMPLOYEE/FULL-NAME/NAME/$'
  EMPLOYEE.NAME := &amp;3&amp;
VALUE 'EMPLOYEE/FULL-ADDRESS'
  IGNORE
VALUE 'EMPLOYEE/FULL-ADDRESS/ADDRESS-LINE'
  /* OPTIONAL MULTIPLE IST: 18 PARENT: FULL-ADDRESS
  ADD 1 TO EMPLOYEE.C@ADDRESS-LINE
VALUE 'EMPLOYEE/FULL-ADDRESS/ADDRESS-LINE/$'
  &amp;5&amp; := EMPLOYEE.C@ADDRESS-LINE
  EMPLOYEE.ADDRESS-LINE(&amp;5&amp;) := &amp;3&amp;
VALUE 'EMPLOYEE/FULL-ADDRESS/CITY'
  IGNORE
VALUE 'EMPLOYEE/FULL-ADDRESS/CITY/$'
  EMPLOYEE.CITY := &amp;3&amp;
VALUE 'EMPLOYEE/FULL-ADDRESS/ZIP'
  IGNORE
VALUE 'EMPLOYEE/FULL-ADDRESS/ZIP/$'
  EMPLOYEE.ZIP := &amp;3&amp;
VALUE 'EMPLOYEE/FULL-ADDRESS/COUNTRY'
  IGNORE
VALUE 'EMPLOYEE/FULL-ADDRESS/COUNTRY/$'
  EMPLOYEE.COUNTRY := &amp;3&amp;
VALUE 'EMPLOYEE/TELEPHONE'
  IGNORE
VALUE 'EMPLOYEE/TELEPHONE/PHONE'
  IGNORE
VALUE 'EMPLOYEE/TELEPHONE/PHONE/$'
  EMPLOYEE.PHONE := &amp;3&amp;
VALUE 'EMPLOYEE/TELEPHONE/AREA-CODE'
  IGNORE
VALUE 'EMPLOYEE/TELEPHONE/AREA-CODE/$'
  EMPLOYEE.AREA-CODE := &amp;3&amp;
VALUE 'EMPLOYEE/JOB-TITLE'
  IGNORE
VALUE 'EMPLOYEE/JOB-TITLE/$'
  EMPLOYEE.JOB-TITLE := &amp;3&amp;
VALUE 'EMPLOYEE/INCOME'
  /* OPTIONAL MULTIPLE IST: 18 PARENT: EMPLOYEE
  ADD 1 TO EMPLOYEE.C@INCOME
VALUE 'EMPLOYEE/INCOME/SALARY'
  IGNORE
VALUE 'EMPLOYEE/INCOME/SALARY/$'
  &amp;5&amp; := EMPLOYEE.C@INCOME
  EMPLOYEE.SALARY(&amp;5&amp;) := &amp;3&amp;
VALUE 'EMPLOYEE/INCOME/BONUS'
  /* OPTIONAL MULTIPLE IST: 18 PARENT: INCOME
  &amp;5&amp; := EMPLOYEE.C@INCOME
  ADD 1 TO EMPLOYEE.C@BONUS(&amp;5&amp;)
VALUE 'EMPLOYEE/INCOME/BONUS/$'
  &amp;5&amp; := EMPLOYEE.C@INCOME
  &amp;6&amp; := EMPLOYEE.C@BONUS(&amp;5&amp;)
  EMPLOYEE.BONUS(&amp;5&amp;,&amp;6&amp;) := &amp;3&amp;
NONE
IGNORE
END-DECIDE
</pre> 
          <h4 class="floating-title">Subprogram Example:</h4> 
          <pre class="verbatim">
* ----------------------------------------------------------------------
* CLASS  NATURAL XML TOOLKIT - UTILITIES
*
*
* DESCRIPTION
*               Parse a given XML document.
*
*
* AUTHOR        SAG   01.2006
*
* VERSION       6.2.
*
* (c) Copyright Software AG 2006. All rights reserved.
*
* ----------------------------------------------------------------------
*
DEFINE DATA PARAMETER
1 XML_PARSER_INPUT             (A) DYNAMIC
PARAMETER USING EMPL
PARAMETER
1 XML_PARSER_ERROR_TEXT        (A253)
1 XML_PARSER_RESPONSE          (I2)
*
LOCAL USING PARSER-X
LOCAL
1 XML_PARSER_XPATH             (A) DYNAMIC
1 XML_PARSER_XPATH_TYPE        (A1)
1 XML_PARSER_CONTENT           (A) DYNAMIC
1 XML_PARSER_CONTENT_IS_EMPTY  (L)
*
LOCAL
1 #CX                          (I4)
1 #CY                          (I4)
1 #CZ                          (I4)
END-DEFINE
*
* ------------------------------------------------- INCLUDE THE PARSER
<strong>INCLUDE PARSER_X</strong> 'XML_PARSER_INPUT' /* XML file to be parsed
  'XML_PARSER_XPATH'                /* XPATH to repesent element...
  'XML_PARSER_XPATH_TYPE'           /* Type of callback
  'XML_PARSER_CONTENT'              /* Content of founld element
  'XML_PARSER_CONTENT_IS_EMPTY'     /* Is TRUE if element is empty
  'XML_PARSER_ERROR_TEXT'           /* error Message
  'XML_PARSER_RESPONSE'             /* Error NR; 0 = OK
*
* --------------------------------------------------- CALLBACK HANDLER
DEFINE SUBROUTINE CALLBACK
*
<strong>INCLUDE EMPL-P</strong> 'XML_PARSER_XPATH'   /* XPATH to repesent element...
  'XML_PARSER_XPATH_TYPE'           /* Type of callback
  'XML_PARSER_CONTENT'              /* Content of founld element
  'XML_PARSER_CONTENT_IS_EMPTY'     /* Is TRUE if element is empty
  '#CX'
  '#CY'
  '#CZ'
*
END-SUBROUTINE
/*
DEFINE SUBROUTINE PARSER_ERROR
IGNORE
END-SUBROUTINE
END
</pre> 
          <h4 class="floating-title">Natural PDA EMPL Used:</h4> 
          <pre class="verbatim">
DEFINE DATA PARAMETER
1 EMPLOYEE
  2 ATTRIBUTES_OF_EMPLOYEE
    3 PERSONNEL-ID(A8)
*
  2 FULL-NAME
    3 FIRST-NAME(A20)
    3 NAME(A20)
*
  2 FULL-ADDRESS
    3 C@ADDRESS-LINE(I4)
    3 ADDRESS-LINE(A20/1:6)
    3 CITY(A20)
    3 ZIP(A20)
    3 COUNTRY(A3)
*
  2 TELEPHONE
    3 AREA-CODE(A6)
    3 PHONE(A15)
*
  2 JOB-TITLE(A25)
*
  2 C@INCOME(I4)
  2 INCOME(1:6)
    3 SALARY(A9)
    3 C@BONUS(I4)
    3 BONUS(A9/1:4)
END-DEFINE
</pre> 
          
        
       <div class="noprint">
         <div class="nospy">
            <p><a href="xml_exa.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../webtech/xml_exa.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/webtech/xml_exa.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="xml-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="xml_nixe.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="xml_err.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>