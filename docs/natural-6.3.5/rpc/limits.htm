
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>Restrictions and Limitations</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="limits"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../rpc/limits.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/rpc/limits.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="rpc-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="prereq.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="setup.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Natural Remote Procedure Call (RPC)&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1>Restrictions and Limitations</h1>
      </div> 
         
      <p>This document informs you about some restrictions and limitations that
             you should observe when you are using the Natural Remote Procedure Call (RPC)
             facility.
      </p> 
          
      <ul>
         <li>
            <p class="initem"><a href="limits.htm#limits_User_Context_Transfer">User Context Transfer</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_System_Variable_Transfer">System Variable Transfer</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_aivs">Application-Independent Variables</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_Parameter_Handling_in_Error_Situations">Parameter Handling in Error Situations</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_var_arrays">Variable Arrays in Subprograms</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_x_arrays">X-Arrays</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_groups_stub_subpgms">Groups and Stub Subprograms</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_group_arrays_srv">Group Arrays on the RPC Server Side</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_entirex_rpc_srv">EntireX RPC Server</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_using_vsam">Using VSAM</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_Natural_Statement_Reactions">Natural Statement Reactions</a></p>
         </li>
         <li>
            <p class="initem"><a href="limits.htm#limits_notes_on_statements">Notes on Natural Statements on the Server</a></p>
         </li>
      </ul>
      <hr>
      <div><a name="limits_User_Context_Transfer"></a></div> 
         
      <h2>User Context Transfer</h2> 
          
          
      <p>Excepting the user identification, no user context is transferred to the
              server session, for example:
      </p> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">all client session parameters remain unchanged and do not affect the
                      execution on the server side;
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">open transactions on the client side cannot be closed by the server
                      and vice versa;
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">client report handling and work file processing cannot be continued on
                      the server side and vice versa;
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">the handling of the Natural stack cannot be continued either.</p> 
                 
         </li> 
             
      </ul> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_System_Variable_Transfer"></a></div> 
         
      <h2>System Variable Transfer</h2> 
          
          
      <p>No system variables except <a href="../vari/natenv.htm#USER"><code>*USER</code></a> can
              be transferred from the client to the server side.
      </p> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_aivs"></a></div> 
         
      <h2>Application-Independent Variables</h2> 
          
          
      <p>In an RPC server, application-independent variables (AIVs) are not
              deallocated implicitly, but stay active across RPC requests, because different
              clients may have access to the same variables on the RPC server. This means
              they must be deallocated explicitly using the
              <a href="../sm/release.htm#RELEASE_VARIABLES"><code>RELEASE
               VARIABLES</code></a> statement.
      </p> 
          
      <p>If you want to release AIVs at the end of an RPC request, you may use
              the Natural RPC user exit <a href="oper.htm#oper_usr_NTRPC03"><code>NATRPC03</code></a> for this
              purpose.
      </p> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_Parameter_Handling_in_Error_Situations"></a></div> 
         
      <h2>Parameter Handling in Error Situations</h2> 
          
          
      <p>Parameter handling in error situations is different:</p> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">If an error occurs during local execution, all parameter modifications
                      performed so far are in effect, because parameters are passed via "call
                      by reference".
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">If an error occurs during remote execution, however, all parameters
                      remain unchanged.
            </p> 
                 
         </li> 
             
      </ul> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_var_arrays"></a></div> 
         
      <h2>Variable Arrays in Subprograms</h2> 
          
          
      <p>If the parameter data area of the subprogram contains a variable number
              of occurrences (<code>1:V</code> notation), you should not use a stub to call
              this subprogram. As a stub only supports array definitions with a fixed number
              of occurrences, you cannot vary the number of occurrences from call to
              call.
      </p> 
          
      <p>If you have to use a stub subprogram (<a href="intro_rpc.htm#interface-object">interface object</a>), for example, because
              you want to call an EntireX RPC server with the same program, you should use an
              X-array on the Natural client side. With X-arrays, it is possible to vary the
              number of occurrences from call to call even when using a stub subprogram. In
              this case, the X-array on the client side is passed to the (fixed) variable
              array on the server side. The variable array is fixed because the server
              program may receive a varying number of occurrences from call to call but
              cannot change the number of occurrences.
      </p> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_x_arrays"></a></div> 
         
      <h2>X-Arrays</h2> 
          
          
      <p>X-arrays are supported in the parameter list of a remote
              <a href="../sm/callnat.htm"><code>CALLNAT</code></a> statement
              execution. The server may increase or decrease the number of occurrences.
      </p> 
          
      <h4 class="floating-title">Restrictions</h4> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">In case of a multidimensional array, all dimensions of the array must
                      be extensible.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">The lower bound must not be extensible, that is, only extensible upper
                      bounds are allowed.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">If you want to use an X-group array that contains an array with
                      constant bounds or a group array that contains an X-array, you must use a stub
                      subprogram. When generating the stub subprogram, you must define the group
                      structure in the <a href="../utis/sysrpc_stub_single.htm">Stub Generation</a> screen.
            </p> 
                  
            <p class="initem"> <strong>Examples:</strong></p> 
                  <pre class="verbatim">01 X-Group-Array (/1:*)
02 Array (A10/1:10) 
* 
01 Group-Array (/1:10)
02 X-Array (A10/1:*)</pre> 
                  <p class="initem"> <code></code></p> 
                 
         </li> 
             
      </ul> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_groups_stub_subpgms"></a></div> 
         
      <h2>Groups and Stub Subprograms</h2> 
          
          
      <p>If group arrays or X-group arrays are present in the parameter list of a
              remote <a href="../sm/callnat.htm"><code>CALLNAT</code></a>
              statement execution and a stub subprogram is used, the following restrictions
              exist.
      </p> 
          
      <h4 class="floating-title">Restrictions</h4> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">You must not use the <a href="../parms/sp_ad.htm#sp_ad_ad_o"><code>AD=O</code></a> or
                      <a href="../parms/sp_ad.htm#sp_ad_ad_a"><code>AD=A</code></a>
                      session parameter settings (attribute definition) in the
                      <a href="../sm/callnat.htm"><code>CALLNAT</code></a>
                      statement.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">Group arrays and X-group arrays passed from a client Natural object to
                      a stub subprogram must be contiguous. We therefore strongly recommend that you
                      always pass a complete array to the stub subprogram by using asterisk (*)
                      notation for all dimensions. We also strongly recommend that you use identical
                      data definitions in the client Natural program, in the stub subprogram, and in
                      the server program.
            </p> 
                 
         </li> 
             
      </ul> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_group_arrays_srv"></a></div> 
         
      <h2>Group Arrays on the RPC Server Side</h2> 
          
          
      <p>The storage layout of group arrays in the <code>DEFINE DATA
            PARAMETER</code> area of subprograms on the RPC server side is not necessarily
              identical with respect to the syntax. Do not redefine fields within a group
              array or pass the group array to a 3GL program. If you need to do so, copy the
              group array to a group array with the same layout in the <code>DEFINE DATA
            LOCAL</code> area and use this local group array in the call to the 3GL
              program.
      </p> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_entirex_rpc_srv"></a></div> 
         
      <h2>EntireX RPC Server</h2> 
          
          
      <p>If you want to call an EntireX RPC server with a remote
              <a href="../sm/callnat.htm"><code>CALLNAT</code></a> statement
              execution, it is strongly recommended to use a stub subprogram. A stub
              subprogram is required if the IDL (Interface Definition Language) definition of
              the subprogram you want to call on an EntireX RPC server contains a group
              structure. In this case, you must define the same group structure during the
              stub generation on the
              <a href="../utis/sysrpc_stub_single.htm">Stub
                 Generation</a> screen or generate the stub subprogram from the
              EntireX IDL
              file (Windows only).
      </p> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_using_vsam"></a></div> 
         
      <h2>Using VSAM</h2> 
          
          
      <p>If you access a VSAM dataset in a subtasking environment or if you share
              a VSAM dataset across regions, you must consider the required share options.
              For example, you may have to set cross-region <code>SHAREOPTIONS 4</code>
              instead of <code>SHAREOPTIONS 2</code> to enforce buffer invalidation if
              records are inserted in a VSAM dataset in one address space and the same VSAM
              dataset is read in another address space. Otherwise, records recently inserted
              may not be found.
      </p> 
          
      <p>You should also consider to use record level sharing (RLS).</p> 
          
      <p>For furthur information, refer to the relevant VSAM documentation of
              IBM.
      </p> 
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_Natural_Statement_Reactions"></a></div> 
         
      <h2>Natural Statement Reactions</h2> 
          
          
      <p>Several Natural statements may react in a different way when used in a
              Natural RPC context, for example:
      </p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Statement</th> 
                       
               <th>Description</th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td nowrap><a href="../sm/opencon.htm"><code>OPEN
                        CONVERSATION</code></a><br>
                           <a href="../sm/closecon.htm"><code>CLOSE
                                 CONVERSATION</code></a></td> 
                       
               <td>If executed on a server, these statements do not affect the
                  client session. When the server itself acts as a client for another server (as
                  agent), these statements only affect the conversations on the second
                  server.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td><a href="../sm/passw.htm"><code>PASSW</code></a></td> 
                       
               <td>The password setting remains active on the server side only,
                  also for subsequent executions by other users.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td><a href="../sm/setcontr.htm"><code>SET
                        CONTROL</code></a><br>
                           <a href="../sm/setgloba.htm"><code>SET GLOBALS</code></a><br>
                           <a href="../sm/setkey.htm"><code>SET KEY</code></a><br>
                           <a href="../sm/settime.htm"><code>SET TIME</code></a><br>
                           <a href="../sm/setwindo.htm"><code>SET
                                 WINDOW</code></a></td> 
                       
               <td>No settings are returned to the caller.</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td><a href="../sm/stack.htm"><code>STACK</code></a></td> 
                       
               <td>All stack data are released after execution.</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td><a href="../sm/stop.htm"><code>STOP</code></a><br>
                      <a href="../sm/terminat.htm"><code>TERMINATE</code></a></td> 
                       
               <td>These statements <em>do not</em> stop the client session. 
                           
                  <p>For information on how to terminate a Natural RPC server, see
                               <a href="end.htm#end">Terminating a Natural RPC
                                  Server</a>.
                  </p>
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
         
      <div class="noprint">
         <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="limits_notes_on_statements"></a></div> 
         
      <h2>Notes on Natural Statements on the Server</h2> 
          
          
      <p>The use of the following statements on an Natural RPC is theoretically
              possible, but not recommended, as it causes undesired effects:
      </p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th align="left"><strong>Statement</strong></th> 
                       
               <th align="left"><strong>Description</strong></th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td><a href="../sm/terminat.htm"><code>TERMINATE</code></a></td> 
                       
               <td>Using this statement causes the server to be terminated,
                  regardless of conversations that may still be open.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td><a href="../sm/fetch.htm"><code>FETCH</code></a><br>
                       <a href="../sm/run.htm"><code>RUN</code></a><br>
                           <a href="../sm/stop.htm"><code>STOP</code></a></td> 
                       
               <td>Using these statements causes the
                  <a href="../sm/callnat.htm"><code>CALLNAT</code></a> context to be
                           lost. 
                           
                  <p>Upon a <code>FETCH</code>, <code>RUN</code> or <code>STOP</code>
                               statement, the server detects that it has lost its <code>CALLNAT</code> context
                               and returns a corresponding Natural error message to the client; at that time,
                               however, the statement has already been executed by the server. 
                  </p> 
                           
                  <p><em>Exception:</em> This does not apply to
                               <a href="../sm/fetch.htm#RETURN"><code>FETCH
                                     RETURN</code></a>.
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td><a href="../sm/input.htm"><code>INPUT</code></a></td> 
                       
               <td>Input values are unpredictable when the input data are read from
                  a file (and not from the stack).
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
         
      <div class="noprint">
         <div class="nospy">
            <p><a href="limits.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../rpc/limits.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/rpc/limits.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="rpc-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="prereq.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="setup.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>