
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>Unicode Data Storage</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="uni-data"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../unicode/uni-data.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/unicode/uni-data.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="uni-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="uni-io.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="uni-diff.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Unicode and Code Page Support&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1>Unicode Data Storage</h1>
      </div> 
         
      <p>This document covers the following
             topics:
      </p>
      <ul>
         <li>
            <p class="initem"><a href="uni-data.htm#uni-data-graphic">Unicode Data/Parameter Access</a></p>
         </li>
         <li>
            <p class="initem"><a href="uni-data.htm#uni-data-dbms">Database Management System Interfaces</a></p>
         </li>
         <li>
            <p class="initem"><a href="uni-data.htm#uni-data-workprintfiles">Work Files and Print Files on Windows, UNIX and OpenVMS Platforms</a></p>
         </li>
      </ul>
      <hr>
      <div><a name="uni-data-graphic"></a></div> 
         
      <h2>Unicode Data/Parameter Access</h2> 
          
          
      <p>The following graphic shows how Unicode data and parameters are
              accessed.
      </p> 
          
      <p><img src="graphics/uni-dataparm-access-os.png" alt="graphics/uni-dataparm-access-os.png" width="500" height="370"></p> 
           
          
         
      <div class="noprint">
         <p><a href="uni-data.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="uni-data-dbms"></a></div> 
         
      <h2>Database Management System Interfaces</h2>
      <div><a name="uni-data-dbms-adabas"></a></div> 
          
      <h3>Accessing Unicode Data in an Adabas Database</h3> 
          
          
          
           
      <p>Natural enables users to access wide-character fields (format W) in an
               Adabas database. 
      </p> 
           
      <dl> 
                
                
         <dt><a name="d0e3486"><strong>Data Definition Module</strong></a></dt>
         <dd> 
                    
            <p class="definition">Adabas wide-character fields (W) are mapped to the Natural data
                        format U (Unicode).
            </p>
         </dd> 
                
                
                
         <dt><a name="d0e3496"><strong>Access Configuration</strong></a></dt>
         <dd> 
                    
            <p class="definition"> Natural receives data from Adabas and sends data to Adabas using
                        UTF-16 as common encoding. 
            </p> 
                    
            <p class="definition">This encoding is specified with the
                        <a href="../parms/oprb.htm"><code>OPRB</code></a>
                        parameter and is sent to Adabas with the open request. It is used for
                        wide-character fields and applies to the entire Adabas user session.
                        
            </p>
         </dd> 
                
              
      </dl> 
           
      <p>For detailed information, see
               <a href="../pg/pg_dbms_ada.htm#pg_dbms_ucode">Unicode
            Data</a> in the <cite>Accessing Data in an Adabas
                  Database</cite> part of the <cite>Programming Guide</cite>. 
      </p> 
          
      <div class="noprint">
         <p><a href="uni-data.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="uni-data-workprintfiles"></a></div> 
         
      <h2> 
             <a name="x25"></a> 
             <a name="x26"></a>Work Files and Print Files on Windows, UNIX and OpenVMS
             Platforms
      </h2> 
           
          
      
          
      <p>The following topics are covered
              below:
      </p>
      <ul>
         <li>
            <p class="initem"><a href="uni-data.htm#uni-data-writeworkfile">WRITE WORK FILE</a></p>
         </li>
         <li>
            <p class="initem"><a href="uni-data.htm#uni-data-readworkfile">READ WORK FILE</a></p>
         </li>
         <li>
            <p class="initem"><a href="uni-data.htm#uni-data-nou">Special Considerations for Work File Type Transfer</a></p>
         </li>
         <li>
            <p class="initem"><a href="uni-data.htm#uni-data-print-winux">Print Files</a></p>
         </li>
      </ul>
      <div><a name="uni-data-writeworkfile"></a></div> 
          
      <h3> 
              <a name="x27"></a>WRITE WORK FILE
      </h3> 
           
           
      <p>The information below applies for the statement
               <a href="../sm/writewor.htm"><code>WRITE WORK FILE</code></a>. See
               the <cite>Statements</cite> documentation for detailed information on
               this statement.
      </p> 
           
      <h4 class="floating-title">Code Page Data</h4> 
           
      <p>The following work file types write code page data:</p> 
           
      <ul> 
               
         <li> 
                   
            <p class="initem">ASCII and ASCII compressed</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">Unformatted</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">CSV</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">Entire Connection</p> 
                  
         </li> 
              
      </ul> 
           
      <p>The work file type and the code page must be defined in the
               Configuration Utility. For further information, see
               <a href="../config/cfg-profileparm.htm#cfg-prf-exe-workfiles">Work Files</a> in the
               <a href="../config/cfg-over.htm">Configuration
            Utility</a> documentation.
      </p> 
           
      <p>All Natural data defined with the operands A (alphanumeric) and U
               (Unicode) are converted to the specified code page. If a code page has not been
               specified, all data are converted to the default code page which is defined
               with the <a href="../parms/cp.htm"><code>CP</code></a>
               parameter.
      </p> 
           
      <p class="note"><strong>Note:</strong><br>In the work file, all written A and U operand data are in code page
               format.
      </p> 
           
      <p>If U operand data are to be written into these work files and
               afterwards read from these work files without loss of data, you have to define
               UTF-8 as the code page (in the Configuration Utility). In this case, all A and
               U operand data are written in UTF-8 format. A subsequent <code>READ WORK
            FILE</code> statement where the work file is also configured using code page
               UTF-8 reads the operand U data without loss of data.
      </p> 
           
      <p class="notes"><strong>Notes:</strong></p>
      <ol class="note-list"> 
               
         <li>Work file data which have been written in UTF-8 format can be read
                   by text editors which support UTF-8 (for example, Notepad on the Windows
                   platform).
         </li> 
               
         <li>Natural data defined with the operand B (binary) are not converted
                   to the code page which has been specified in the Configuration Utility. These
                   data are written as they are stored in Natural, without any code page
                   conversion.
         </li> 
              
      </ol> 
           
      <p>If one of the above-mentioned work file types is specified and the code
               page UTF-8 is defined for the work file, the work file attributes
               <code>BOM</code> (write byte order mark) and <code>NOBOM</code> (do not write
               byte order mark) take effect. These attributes can be specified in the
               <a href="../config/cfg-profileparm.htm#cfg-prf-exe-workfiles"><span class="guilistitem">Work Files</span></a> category of the
               Configuration Utility and with the <a href="../sm/definewo.htm"><code>DEFINE WORK FILE</code></a> statement. If
               the code page UTF-8 is defined for the work file and the work file attribute
               <code>BOM</code> is specified, the UTF-8 byte order mark (hexadecimal
               representation: <code>H'EFBBBF'</code>) is written at the beginning of the work
               file, in front of the work file data. 
      </p> 
           
      <p>If a work file type other than the above-mentioned work file types is
               used for writing the work file, or if a code page other than UTF-8 is defined
               for the work file, the specification of the attribute <code>BOM</code> is
               ignored during runtime. The following table shows the runtime behavior during
               the processing of the statements <code>WRITE WORK FILE</code> and <code>READ
            WORK FILE</code>: 
      </p> 
            
            
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
         <thead align="left" valign="top"> 
                    
            <tr> 
                        
               <th>Code Page and Attribute Setting</th> 
                        
               <th><code>WRITE WORK FILE</code></th> 
                        
               <th><code>READ WORK FILE</code></th> 
                       
            </tr> 
                   
         </thead> 
                
         <tbody align="left" valign="top"> 
                    
            <tr> 
                        
               <td> 
                  
                  <p>The code page UTF-8 is not specified for the work file
                       (default).
                  </p> 
                            
                  <p>The work file attributes <code>BOM</code> and <code>NOBOM</code>
                                have no effect.
                  </p>
               </td> 
                        
               <td> 
                  
                  <p>No UTF-8 byte order mark is written.</p> 
                            
                  <p>No conversion to UTF-8.</p>
               </td> 
                        
               <td> 
                  
                  <p>No check for UTF-8 byte order mark.</p> 
                            
                  <p>No conversion from UTF-8.</p>
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td> 
                  
                  <p>The code page UTF-8 is specified for the work file.</p> 
                            
                  <p>The work file attribute <code>BOM</code> is specified.
                  </p>
               </td>
                        
                        
               <td> 
                  
                  <p>UTF-8 byte order mark is written.</p> 
                            
                  <p>A and U fields are converted to UTF-8.</p>
               </td> 
                        
               <td> 
                  
                  <p>Check for UTF-8 byte order mark.</p> 
                            
                  <p>If an UTF-8 byte order mark is found, it is removed from the work
                     file data. A fields are converted from UTF-8 to the default code page. U fields
                     are converted from UTF-8 to the Natural internal runtime representation UTF-16.
                                
                  </p> 
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td> 
                  
                  <p>The code page UTF-8 is specified for the work file.</p> 
                            
                  <p>The work file attribute <code>NOBOM</code> (default) is
                                specified.
                  </p>
               </td> 
                        
               <td> 
                  
                  <p>No UTF-8 byte order mark is written.</p> 
                            
                  <p>A and U fields are converted to UTF-8.</p>
               </td> 
                        
               <td> 
                  
                  <p>Check for UTF-8 byte order mark.</p> 
                            
                  <p>If an UTF-8 byte order mark is found, it is removed from the work
                     file data. A fields are converted from UTF-8 to the default code page. U fields
                     are converted from UTF-8 to the Natural internal runtime representation UTF-16.
                                
                  </p>
               </td> 
                       
            </tr> 
                   
         </tbody> 
               
      </table> 
            
           
      <h4 class="floating-title">Binary Data</h4> 
           
      <p>The following work file types write binary data (for example, UTF-16
               for operand format U):
      </p> 
           
      <ul> 
               
         <li> 
                   
            <p class="initem">SAG</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">Portable</p> 
                  
         </li> 
              
      </ul> 
           
      <p>Natural data defined with the operands A and U are not converted to
               code page. These data are written to the work file in binary format. For U
               operand data, this is done in UTF-16.
      </p> 
          
      <div><a name="uni-data-readworkfile"></a></div> 
          
      <h3> 
              <a name="x28"></a>READ WORK FILE
      </h3> 
           
           
      <p>The information below applies for the statement
               <a href="../sm/readwork.htm"><code>READ WORK FILE</code></a>. See
               the <cite>Statements</cite> documentation for detailed information on
               this statement. Take note of the restrictions that are listed for the
               <a href="../sm/readwork.htm#rec_opt_ovw_tbl"><code>RECORD</code></a> option (in the Natural for
               Windows, Natural for UNIX and Natural for OpenVMS documentation).
      </p> 
           
      <h4 class="floating-title">Code Page Data</h4> 
           
      <p>When the following work file types are used, the work file data that
               are read into Natural U (Unicode) operands are converted from the specified
               code page to UTF-16.
      </p> 
           
      <ul> 
               
         <li> 
                   
            <p class="initem">ASCII and ASCII compressed</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">Unformatted</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">CSV</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">Entire Connection</p> 
                  
         </li> 
              
      </ul> 
           
      <p>Data that are read into A (alphanumeric) operands are converted, if
               required, from the specified code page to the default code page which has been
               defined with the parameter <a href="../parms/cp.htm"><code>CP</code></a>.
      </p> 
           
      <p>If one of the above-mentioned work file types is specified and the code
               page UTF-8 is defined for the work file, the <code>READ WORK FILE</code>
               statement automatically checks the work file for an UTF-8 byte order mark. If
               an UTF-8 byte order mark is found at the beginning of the work file, it is
               removed. The data that are read from the work file are converted from UTF-8 to
               the default code page.
      </p> 
           
      <p>If data are read from another work file type, the check for a byte
               order mark is not performed and a byte order mark is therefore not removed.
      </p>
           
           
      <p>For information on the runtime behavior during the processing of the
               statements <code>WRITE WORK FILE</code> and <code>READ WORK FILE</code>, see
               the table in the <a href="uni-data.htm#uni-data-writeworkfile">previous</a> section.
      </p> 
           
      <h4 class="floating-title">Binary Data</h4> 
           
      <p>When the following work file types are used, the work file data are
               read into the Natural operands A and U without conversion (that is: they are
               read in binary format):
      </p> 
           
      <ul> 
               
         <li> 
                   
            <p class="initem">SAG</p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem">Portable</p> 
                  
         </li> 
              
      </ul> 
           
      <p>The work file type Portable supports endian conversion for data of
               operand format U.
      </p> 
          
      <div><a name="uni-data-nou"></a></div> 
          
      <h3>Special Considerations for Work File Type Transfer</h3> 
           
           
      <p>Operand format U is generally supported for the work file type
               Transfer. If Entire Connection is not able to read or write Unicode for the
               selected file type, a runtime error message is displayed.
      </p> 
          
      <div><a name="uni-data-print-winux"></a></div> 
          
      <h3>Print Files</h3> 
           
           
      <p>The handling for Unicode data in print files depends on the selected
               logical device&#8217;s (LPT1 to LPT31) print method, currently either GUI (Windows
               only) or TTY. 
      </p> 
           
      <p>Regardless of the print method, data are passed to the Natural printing
               services in UTF-16 format. That is, any format A field data will already have
               been converted to Unicode.
      </p> 
           
      <h4 class="floating-title">GUI Print Method </h4> 
           
      <p>With this Windows-only print method, the data are passed to the Windows
               printer driver in Unicode (UTF-16) format. Because this is the standard method
               for printing data in Windows, the driver invariably handles this data
               appropriately. This is therefore the recommended print method under Windows if
               any characters that are not within the system code page are being used.
      </p> 
           
      <h4 class="floating-title">TTY Print Method</h4> 
           
      <p>With this print method, the data are, by default, converted from the
               internal (UTF-16) format into the system code page. However, by using a printer
               profile, it is possible to specify that the data should instead either be
               converted into UTF-8 format, or be subjected to an additional conversion to an
               arbitrary external code page. For more information on these alternatives, see
               <a href="../config/cfg-confparm.htm#cfg-cf-glo-printer">Printer Profiles</a> in the
               <a href="../config/cfg-over.htm">Configuration
            Utility</a> documentation.
      </p> 
           
      <p>The rationale behind the default behavior of converting the data into
               the system code page is based on the current lack of printers capable of
               directly accepting raw text files in UTF-8 format. 
      </p> 
          
      <div class="noprint">
         <div class="nospy">
            <p><a href="uni-data.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../unicode/uni-data.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/unicode/uni-data.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="uni-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="uni-io.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="uni-diff.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>