
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>Preparing to Use Natural Connection</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="ntc-prep"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../ntc/ntc-prep.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/ntc/ntc-prep.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="ntc-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="ntc-main.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="ntc-state.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Natural Connection&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1> 
               <a name="x7"></a> 
               <a name="x8"></a>Preparing to Use Natural Connection
         </h1>
      </div> 
         
      <p>This document describes the tasks that must be accomplished to allow
             download and upload.
      </p>
      <ul>
         <li>
            <p class="initem"><a href="ntc-prep.htm#ntc-prep-display">Displaying Work File and Printer Settings</a></p>
         </li>
         <li>
            <p class="initem"><a href="ntc-prep.htm#ntc-prep-definework">Defining Work Files</a></p>
         </li>
         <li>
            <p class="initem"><a href="ntc-prep.htm#ntc-prep-defineprinter">Defining Printers</a></p>
         </li>
         <li>
            <p class="initem"><a href="ntc-prep.htm#ntc-prep-activatepc">Activating the PC Connection</a></p>
         </li>
         <li>
            <p class="initem"><a href="ntc-prep.htm#ntc-prep-deactivatepc">Deactivating the PC Connection</a></p>
         </li>
      </ul> 
         
      <p>In order to download and upload data, a work file must be designated as a
             PC file. 
      </p> 
         
      <p>To download reports, a printer must be designated as a PC
             printer.
      </p>
      <hr>
      <div><a name="ntc-prep-display"></a></div> 
         
      <h2> 
             <a name="x9"></a> 
             <a name="x10"></a>Displaying Work File and Printer Settings
      </h2> 
          
           
           
           
          
      <h4 class="floating-title">Work File Settings</h4> 
          
      <p>To display your current work file settings, invoke the
              <a href="../config/cfg-over.htm">Configuration Utility</a> and
              from the <span class="guimenu">Edit</span> menu, choose <span class="guimenuitem">Natural Execution Configuration &gt; Work Files</span>. A
              screen similar to the following appears:
      </p> 
          
      <table border="1" cellpadding="5" class="screen">
         <tr>
            <td><pre>+-------------------------------- Work Files ---------------------------------+
| Entire Connection protocol mode..... (ECPMOD)      ON                       |
| Entire Connection local NCF protocol (NCFVERS)       2                      |
| PC support.......................... (PC)          OFF                      |
| Max. work file number............... (WORK)         32                      |
| Alternate sort work file names...... (TMPSORTUNIQ) OFF                      |
| Work file open on first access...... (WFOPFA)      ON                       |
|                                                       Close                 |
| Number Name                                Attributes Mode  Type            |
| ------ ----------------------------------- ---------- ----- --------------  |
|  1                                                    Auto  Default         |
|  2                                                    Auto  Default         |
|  3                                                    Auto  Default         |
|  4                                                    Auto  Default         |
|  5                                                    Auto  Default         |
|  6                                                    Auto  Default         |
|  7                                                    Auto  Default         |
|  8                                                    Auto  Default         |
|  9                                                    Auto  Default         |
| 10                                                    Auto  Default         |
| 11                                                    Auto  Default         |
| 12                                                    Auto  Default         |
| 13                                                    Auto  Default         |
ON or OFF                                                                      </pre></td>
         </tr>
      </table> 
          
      <h4 class="floating-title">Printer Settings</h4> 
          
      <p>To display the printer settings, invoke the
              <a href="../config/cfg-over.htm">Configuration Utility</a> and
              proceed as follows:
      </p> 
          
      <ol> 
              
         <li> 
                  
            <p class="initem">From the <span class="guimenu">Edit</span> menu, choose
                      <span class="guimenuitem">Natural Execution Configuration &gt; Device/Report
                  Assignments &gt; Device Assignments</span>. A screen similar to the
                      following appears: 
            </p> 
                  
            <table border="1" cellpadding="5" class="screen">
               <tr>
                  <td><pre>+---------------------------- Device Assignments -----------------------------+
| Logical  Close Line Page Max                                                |
| Device   Mode  Size Size Page  Physical Output Device                       |
| -------- ----- ---- ---- ----- -------------------------------------------  |
| VIDEO    Auto    80   24 32767 VIDEO                                     D  |
| LPT1     Auto    80   66 32767 LPT1                                      D  |
| LPT2     Auto    80   66 32767 LPT1                                      D  |
| LPT3     Auto    80   66 32767 LPT1                                      D  |
| LPT4     Auto    80   66 32767 LPT1                                      D  |
| LPT5     Auto    80   66 32767 LPT1                                      D  |
| LPT6     Auto    80   66 32767 LPT1                                      D  |
| LPT7     Auto    80   66 32767 LPT1                                      D  |
| LPT8     Auto    80   66 32767 LPT1                                      D  |
| LPT9     Auto    80   66 32767 LPT1                                      D  |
| LPT10    Auto    80   66 32767 LPT1                                      D  |
| LPT11    Auto    80   66 32767 LPT1                                      D  |
+-----------------------------------------------------------------------------+
Physical (D)evice, (E)ntire Connection, (F)ile. Use [PF2] for selection list   </pre></td>
               </tr>
            </table> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">From the <span class="guimenu">Edit</span> menu, choose
                      <span class="guimenuitem">Natural Execution Configuration &gt; Device/Report
                  Assignments &gt; Report Assignments</span>. A screen similar to the
                      following appears: 
            </p> 
                  
            <table border="1" cellpadding="5" class="screen">
               <tr>
                  <td><pre>+------------ Report Assignments -------------+
| Override default report number (MAINPR) 0   |
|                                             |
| Report Device   Profile                     |
| ------ -------- -------                     |
|  0     VIDEO                                |
|  1     LPT1                                 |
|  2     LPT1                                 |
|  3     LPT1                                 |
|  4     LPT1                                 |
|  5     LPT1                                 |
|  6     LPT1                                 |
|  7     LPT1                                 |
|  8     LPT1                                 |
|  9     LPT1                                 |
+---------------------------------------------+</pre></td>
               </tr>
            </table> 
                 
         </li> 
             
      </ol> 
          
      <p>See
              <a href="../config/cfg-profileparm.htm#cfg-prf-exe-devrep">Device/Report
            Assignments</a> in the <cite>Configuration
                 Utility</cite> documentation for further information.
      </p> 
         
      <div class="noprint">
         <p><a href="ntc-prep.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="ntc-prep-definework"></a></div> 
         
      <h2> 
             <a name="x13"></a>Defining Work Files
      </h2> 
          
          
      <p>To download or upload from/to the PC, the corresponding work file must
              be defined as type <code>TRANSFER</code>. This can be done statically by an
              entry in the <a href="../config/cfg-over.htm">Configuration
                 Utility</a> or also during runtime with the
              <a href="../sm/definewo.htm"><code>DEFINE WORK FILE</code></a>
              statement.
      </p> 
          
      <h4 class="floating-title">Definition in the Configuration Utility</h4> 
          
      <p>From the <span class="guimenu">Edit</span> menu, choose
              <span class="guimenuitem">Natural Execution Configuration &gt; Work
            Files</span>. You can define the corresponding work file number on the
              resulting screen. As work file type, <code>TRANSFER</code> must be defined.
              
      </p> 
          
      <p>If a download/upload takes place with the selected number of the work
              file, then the PC transfer is activated and an Entire Connection dialog box
              appears in which you specify the download destination on the PC or the file
              that is to be uploaded from the PC. 
      </p> 
          
      <h4 class="floating-title">Definition during Runtime</h4> 
          
      <p>If the work file shall get a new definition during runtime, then the
              Natural statement <a href="../sm/definewo.htm"><code>DEFINE WORK
               FILE</code></a> must be defined before executing the download/upload
              sequence.
      </p> 
          
      <p>The work file type <code>TRANSFER</code> must be used. Example:
      </p> 
          <pre class="verbatim">DEFINE WORK FILE 1 'PC' TYPE 'TRANSFER' </pre> 
         <div class="noprint">
         <p><a href="ntc-prep.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="ntc-prep-defineprinter"></a></div> 
         
      <h2> 
             <a name="x14"></a>Defining Printers
      </h2> 
          
          
      <p>To download data to a logical printer by writing reports, a static entry
              is required in the <a href="../config/cfg-over.htm">Configuration
                 Utility</a> which defines the setting of the logical printer.
      </p> 
          
      <p>The allocation of a report to this logical printer can then also be done
              during runtime with the <a href="../sm/definepr_uw.htm"><code>DEFINE
               PRINTER</code></a> statement.
      </p> 
          
      <h4 class="floating-title">Definition in the Configuration Utility</h4> 
          
      <p>The following definition of the logical printer must always be done
              statically in the Configuration Utility in order to configure a printer that
              sends the output data to an Entire Connection terminal:
      </p> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">From the <span class="guimenu">Edit</span> menu, choose
                      <span class="guimenuitem">Natural Execution Configuration &gt; Device/Report
                  Assignments &gt; Device Assignments</span>. On the resulting screen,
                      select the desired logical printer device (one of LPT1 to LPT3) and set the
                      device destination of the physical output device to
                      "E" (send data to an Entire Connection
                      terminal).
            </p> 
                 
         </li> 
             
      </ul> 
          
      <p>In a second step that can also be done during runtime, a report is
              allocated to the previously defined logical printer device:
      </p> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem">From the <span class="guimenu">Edit</span> menu, choose
                      <span class="guimenuitem">Natural Execution Configuration &gt; Device/Report
                  Assignments &gt; Report Assignments</span>. On the resulting screen, set
                      the previously defined logical printer device (for example, LPT1) for the
                      desired report number. 
            </p> 
                 
         </li> 
             
      </ul> 
          
      <p>If a download takes place with the selected printer number, the PC
              transfer is activated and an Entire Connection dialog box appears in which you
              specify the download destination on the PC. 
      </p> 
          
      <h4 class="floating-title">Definition during Runtime</h4> 
          
      <p>The allocation of the desired report number to the previously defined
              logical printer device can also be done during runtime. The Natural statement
              <a href="../sm/definepr_uw.htm"><code>DEFINE PRINTER</code></a>
              must then be defined before executing the download sequence. 
      </p> 
          
      <p>As an output parameter, the name of the previously defined logical
              printer device must be used (the following example uses the name
              "LPT1").
      </p> 
          <pre class="verbatim">DEFINE PRINTER (7) OUTPUT 'LPT1' </pre> 
         <div class="noprint">
         <p><a href="ntc-prep.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="ntc-prep-activatepc"></a></div> 
         
      <h2> 
             <a name="x15"></a> 
             <a name="x16"></a>Activating the PC Connection
      </h2> 
          
          
      <p>To upload and download data to/from a PC, the PC connection must be
              active. You activate the PC connection from UNIX.
      </p> 
          
      <p class="to"><img src="../graphics/bluearro.png" alt="Start of instruction set" width="18" height="15"><strong>To activate the PC connection</strong></p>
      <ul>
         <li> 
                   
                   
            <p class="instep">Use the Natural terminal command <a href="../tcom/pcplus.htm"><code>%+</code></a>.
            </p> 
                   
                   
                   
            <p class="instep">Or:<br>Invoke Natural with the dynamic parameter
                       <a href="../parms/pc.htm"><code>PC=ON</code></a>.
            </p> 
                   
                   
                   
            <p class="instep">Or:<br>Use the <a href="../sm/setcontr.htm"><code>SET CONTROL
                     '+'</code></a> statement in a Natural program. 
            </p> 
                   
                 
         </li>
      </ul> 
          
      <p>With the terminal command <code>%+</code>, you can also
              set an additional option:
      </p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Option</th> 
                       
               <th>Description</th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td><code>%+N </code></td> 
                       
               <td>The PC connection is activated. In addition, no
                  field names are sent when downloading or uploading data. 
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <p>If you attempt to upload or download data without the PC connection
              being activated, a message appears indicating that the PC connection is not
              active.
      </p> 
          
      <p>If you enter <code>%+</code> and the PC connection is
              already active, a message appears indicating that the PC connection is already
              active.
      </p> 
         
      <div class="noprint">
         <p><a href="ntc-prep.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="ntc-prep-deactivatepc"></a></div> 
         
      <h2> 
             <a name="x17"></a> 
             <a name="x18"></a>Deactivating the PC Connection
      </h2> 
          
          
      <p class="to"><img src="../graphics/bluearro.png" alt="Start of instruction set" width="18" height="15"><strong>To deactivate the PC connection</strong></p>
      <ul>
         <li> 
                   
                   
            <p class="instep">Use the Natural terminal command <a href="../tcom/pcplus.htm"><code>%-</code></a>.
            </p> 
                   
                   
                   
            <p class="instep">Or:<br>Use the <a href="../sm/setcontr.htm"><code>SET CONTROL
                     '-'</code></a> statement in a Natural program.
            </p> 
                   
                 
         </li>
      </ul> 
         
      <div class="noprint">
         <div class="nospy">
            <p><a href="ntc-prep.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../ntc/ntc-prep.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/ntc/ntc-prep.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="ntc-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="ntc-main.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="ntc-state.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>