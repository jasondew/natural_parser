
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script language="JavaScript" src="../general/selbox.js"></script><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>CALL FILE</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="callfile" id="16759"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/callfile.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/callfile.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="call.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="callloop.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Statements&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1>CALL FILE 
               <a name="x37"></a></h1>
      </div> 
         
         
      <div><a name="Structured_Mode_Syntax_callfile"></a></div>
      <h4 class="floating-title"> Structured Mode
             Syntax
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3">  
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td colspan="NaN" nowrap>
                  <a href="callfile.htm#Function_callfile"> <code class="keyword">CALL
                              FILE</code></a> '<a href="callfile.htm#pgm_name"><var>program-name</var></a>'
                          <a href="callfile.htm#Control_Field_operand1">
                             <var>operand1</var></a>
                          <a href="callfile.htm#Record_Area_operand2">
                             <var>operand2</var></a></td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> &nbsp;&nbsp; <a href="callfile.htm#callfile-statement"><var>statement</var></a>
                          <img src="../graphics/dot3.gif" alt="../graphics/dot3.gif" width="12" height="4"></td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td><a href="callfile.htm#loop_callfile"> <code class="keyword">END-FILE</code></a></td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <div><a name="Reporting_Mode_Syntax_callfile"></a></div>
      <h4 class="floating-title"> Reporting Mode
             Syntax
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3">  
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td colspan="NaN" nowrap>
                  <a href="callfile.htm#Function_callfile"> <code class="keyword">CALL
                              FILE</code></a> '<a href="callfile.htm#pgm_name"><var>program-name</var></a>'
                          <a href="callfile.htm#Control_Field_operand1">
                             <var>operand1</var></a>
                          <a href="callfile.htm#Record_Area_operand2">
                             <var>operand2</var></a></td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> &nbsp;&nbsp; <a href="callfile.htm#callfile-statement"><var>statement</var></a>
                          <img src="../graphics/dot3.gif" alt="../graphics/dot3.gif" width="12" height="4"></td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td><code>[</code><a href="callfile.htm#loop_callfile"><code class="keyword">LOOP</code></a><code>]</code></td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <p>This document covers the following topics:</p>
         
      <ul>
         <li>
            <p class="initem"><a href="callfile.htm#Function_callfile">Function</a></p>
         </li>
         <li>
            <p class="initem"><a href="callfile.htm#Restriction_callfile">Restriction</a></p>
         </li>
         <li>
            <p class="initem"><a href="callfile.htm#syntax_desc_call_file">Syntax Description</a></p>
         </li>
         <li>
            <p class="initem"><a href="callfile.htm#Example_callfile">Example</a></p>
         </li>
      </ul> 
         
      <p>For an explanation of the symbols used in the syntax diagram, see
             <a href="synsym.htm#Syntax_Symbols">Syntax
            Symbols</a>.
      </p> 
         
      <p>Related Statements: <a href="call.htm#call">CALL</a> |
             <a href="callloop.htm#callloop">CALL LOOP</a> |
             <a href="callnat.htm#callnat">CALLNAT</a> | <a href="definesu.htm#definesu">DEFINE SUBROUTINE</a> | <a href="escape.htm#escape">ESCAPE</a> | <a href="fetch.htm#fetch">FETCH</a> | <a href="perform.htm#perform">PERFORM</a></p> 
         
      <p>Belongs to Function Group:
             <a href="stmt.htm#Invoking_Programs_and_Routines">Invoking Programs
            and Routines</a></p> 
        
      <hr> 
        
      <div><a name="Function_callfile"></a></div> 
         
      <h2>Function</h2> 
          
          
      <p>The <code>CALL FILE</code> statement is used to call a non-Natural
              program which reads a record from a non-Adabas file and returns the record to
              the Natural program for processing.
      </p> 
          
        
        
      <div class="noprint">
         <p><a href="callfile.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="Restriction_callfile"></a></div> 
         
      <h2>Restriction</h2> 
          
          
      <p>The statements <a href="atbreak.htm#atbreak"><code>AT
               BREAK</code></a>, <a href="atstart.htm#atstart"><code>AT START OF
               DATA</code></a> and <a href="atenddat.htm#atenddat"><code>AT END OF
               DATA</code></a> must not be used within a <code>CALL FILE</code>
              processing loop.
      </p> 
          
        
        
      <div class="noprint">
         <p><a href="callfile.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="syntax_desc_call_file"></a></div> 
         
      <h2>Syntax Description</h2> 
          
          
      <p>Operand Definition Table:</p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
                
                
                
                
                
                
                
                
                 
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Operand</th> 
                       
               <th colspan="5" align="center">
                  <a href="synsym.htm#statem_poss_struct">Possible Structure</a></th> 
                       
               <th colspan="13" align="center">
                  <a href="synsym.htm#statem_poss_form">Possible Formats</a></th> 
                       
               <th align="center"> <a href="synsym.htm#statem_ref_perm">Referencing
                     Permitted</a></th> 
                       
               <th align="center"> <a href="synsym.htm#statem_dyn_def">Dynamic
                     Definition</a></th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td><var>operand1</var></td> 
                       
               <td>&nbsp;</td> 
                       
               <td>S</td> 
                       
               <td>A</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>A</td> 
                       
               <td>U</td> 
                       
               <td>N</td> 
                       
               <td>P</td> 
                       
               <td>I</td> 
                       
               <td>F</td> 
                       
               <td>B</td> 
                       
               <td>D</td> 
                       
               <td>T</td> 
                       
               <td>L</td> 
                       
               <td>C</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">yes</td> 
                       
               <td align="center">yes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td><var>operand2</var></td> 
                       
               <td>&nbsp;</td> 
                       
               <td>S</td> 
                       
               <td>A</td> 
                       
               <td>G</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>A</td> 
                       
               <td>U</td> 
                       
               <td>N</td> 
                       
               <td>P</td> 
                       
               <td>I</td> 
                       
               <td>F</td> 
                       
               <td>B</td> 
                       
               <td>D</td> 
                       
               <td>T</td> 
                       
               <td>L</td> 
                       
               <td>C</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">yes</td> 
                       
               <td align="center">yes</td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <p>Syntax Element Description:</p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <th>'<a name="pgm_name"></a><var>program-name</var>'
               </th> 
                       
               <td>The name of the non-Natural program to be
                  called.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th><a name="Control_Field_operand1"></a><var>operand1</var></th>
                       
                       
               <td>Control field:
                  <var>operand1</var> is used to provide control information.
                           
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th><a name="Record_Area_operand2"></a><var>operand2</var></th> 
                       
               <td><var>operand2</var> defines the
                  record area. 
                          
                  <p>The format of the record to be read can be described using field
                               definitions (or FILLER <var>n</var>X) entries following the
                     name of the first field in the record. The fields used to define the record
                     format must not have been previously defined in the Natural program. This
                               ensures that fields are allocated in the contiguous storage by Natural.
                               
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th><a name="callfile-statement"></a><var> statement
                     ...</var></th> 
                       
               <td>The <code>CALL FILE</code> statement initiates a
                  processing loop which must be terminated with an <a href="escape.htm#escape"><code>ESCAPE</code></a> or <a href="stop.htm#stop"><code>STOP</code></a> statement. More than one
                           <code>ESCAPE</code> statement may be specified to escape from a <code>CALL
                              FILE</code> loop based on different conditions. 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th> END-FILE</th> 
                       
               <td>An <a href="loop.htm#loop"><code>END-FILE</code></a> statement must be used to
                  close the processing <a name="loop_callfile"></a>loop.
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
        
        
      <div class="noprint">
         <p><a href="callfile.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="Example_callfile"></a></div> 
         
      <h2>Example</h2> 
          
          
      <h4 class="floating-title"> Calling Program:</h4> 
          <pre class="verbatim">** Example 'CFIEX1': CALL FILE                                          
************************************************************************
DEFINE DATA LOCAL                                                       
1 #CONTROL (A3)                                                         
1 #RECORD                                                               
  2 #A     (A10)                                                        
  2 #B     (N3.2)                                                       
  2 #FILL1 (A3)                                                         
  2 #C     (P3.1)                                                       
END-DEFINE                                                              
*                                                                       
CALL FILE 'USER1' #CONTROL #RECORD                                      
  IF #CONTROL = 'END'                                                   
    ESCAPE BOTTOM                                                       
  END-IF                                                                
END-FILE                                                                
/*****************************                                          
/* ... PROCESS RECORD ...                                               
/*****************************                                          
END</pre> 
          <p>The byte layout of the record passed by the called program to the
              Natural program in the above example is as follows:
      </p> 
          <pre class="verbatim">CONTROL #A       #B   FILLER  #C
(A3)   (A10)   (N3.2)  3X   (P3.1)
  
xxx xxxxxxxxxx xxxxx   xxx   xxx</pre> 
          <h4 class="floating-title"> Called COBOL Program:</h4> 
          <pre class="verbatim">ID DIVISION.
PROGRAM-ID. USER1.
ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
     SELECT USRFILE ASSIGN UT-S-FILEUSR.
DATA DIVISION.
FILE SECTION.
FD   USRFILE RECORDING F LABEL RECORD OMITTED
     DATA RECORD DATA-IN.
01   DATA-IN         PIC X(80).
LINKAGE SECTION.
01   CONTROL-FIELD   PIC XXX.
01   RECORD-IN       PIC X(21).
PROCEDURE DIVISION USING CONTROL-FIELD RECORD-IN.
BEGIN.
     GO TO FILE-OPEN.
FILE-OPEN.
     OPEN INPUT USRFILE
     MOVE SPACES TO CONTROL-FIELD.
     ALTER BEGIN TO PROCEED TO FILE-READ.
FILE-READ.
     READ USRFILE INTO RECORD-IN
          AT END
          MOVE 'END' TO CONTROL-FIELD
          CLOSE USRFILE
          ALTER BEGIN TO PROCEED TO FILE-OPEN.
     GOBACK.</pre> 
          
        
       <div class="noprint">
         <div class="nospy">
            <p><a href="callfile.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/callfile.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/callfile.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="call.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="callloop.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>