
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script language="JavaScript" src="../general/selbox.js"></script><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>DEFINE FUNCTION</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="definefu" id="7040"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/definefu.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/definefu.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda_exa.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="definepr_uw.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Statements&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1> DEFINE FUNCTION 
               <a name="x78"></a></h1>
      </div> 
         
          
          
      <table border="0" class="syntax" cellpadding="3">  
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td> <a href="definefu.htm#Function_definefu"> <code class="keyword">DEFINE FUNCTION</code> </a> <a href="definefu.htm#fn">
                             <var>function-name</var> </a> 
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> &nbsp;&nbsp; <a href="definefu.htm#ret_dat_def">[<var>return-data-definition</var>]</a>
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> &nbsp;&nbsp; <a href="definefu.htm#func_dat_def">[<var>function-data-definition</var>]</a>
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> &nbsp;&nbsp; <var>statement...</var> 
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> <a href="definefu.htm#end_function"> <code class="keyword">END-FUNCTION</code> </a> 
               </td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <p>This document covers the following topics:</p>
         
      <ul>
         <li>
            <p class="initem"><a href="definefu.htm#Function_definefu">Function</a></p>
         </li>
         <li>
            <p class="initem"><a href="definefu.htm#syntax_descr_define_function">Syntax Description</a></p>
         </li>
         <li>
            <p class="initem"><a href="definefu.htm#EX">Example</a></p>
         </li>
      </ul> 
         
      <p>For an explanation of the symbols used in the syntax diagram, see
             <a href="synsym.htm#Syntax_Symbols">Syntax
            Symbols</a>.
      </p> 
         
      <p>Related Topic: <a href="../pg/pg_udf.htm">User-Defined
            Functions</a> 
      </p> 
        
      <hr> 
        
      <div><a name="Function_definefu"></a></div> 
         
      <h2> Function </h2> 
          
          
      <p>The <code>DEFINE FUNCTION</code> statement may be used to create new
              user-defined functions which may be called instead of operands in the Natural
              statements. Functions can be defined inside the object type Function only; for
              further information on this object type, see
              <a href="../pg/pg_obj_prog.htm#Function">Function</a> in
              the <cite>Programming Guide</cite>.
      </p> 
          
        
        
      <div class="noprint">
         <p><a href="definefu.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="syntax_descr_define_function"></a></div> 
         
      <h2> Syntax Description </h2> 
          
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <th align="left" nowrap> <a name="fn"></a>
                   <var>function-name</var>  
               </th> 
                       
               <td align="left"> 
                  
                  <p> <var>function-name</var> is the symbolic name of
                     the Natural function which is to be defined. The name must follow the same
                     rules as used for user-defined variables, see
                               <a href="../using/use_rules.htm#use_rules-Variable_Names">Naming
                                  Conventions for User-Defined Variables</a> in the
                               <cite>Using Natural Studio</cite> documentation. This means that the
                               name may have a maximum length of 32 characters and may start with a letter or
                               some special characters such as a hash (#).
                  </p> 
                           
                  <p>You may not use the same function name twice in one library
                               (including the libraries of the STEPLIB mechanism). Function overloading is not
                               allowed. This means that all function definitions must have unique function
                               names.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th align="left"> <a name="rdd"></a>
                   <var>return-data-definition</var>  
               </th> 
                       
               <td align="left"> For details on this clause, refer to the section
                  <a href="definefu.htm#ret_dat_def">Return Data
                              Definition</a> below. 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th align="left" nowrap> <a name="fdd"></a>
                   <var>function-data-definition</var>  
               </th> 
                       
               <td align="left"> For details on this clause, refer to the section
                  <a href="definefu.htm#func_dat_def">Function Data
                              Definition</a> below. 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th align="left" nowrap>
                  <a name="end_function"></a>END-FUNCTION 
               </th> 
                       
               <td align="left"> The Natural reserved word
                  <code>END-FUNCTION</code> must be used to terminate the <code>DEFINE
                              FUNCTION</code> statement. 
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
         
      <div><a name="ret_dat_def"></a></div> 
          
      <h3> Return Data Definition</h3> 
           
            
            
      <table border="0" class="syntax" cellpadding="3">
         <colgroup>
            <col width="97%">
         </colgroup> 
                 
                 
                
                 
                
         <tbody align="left" valign="top"> 
                    
            <tr> 
                        
               <td rowspan="4"> &nbsp; <code class="keyword">RETURNS</code> [<var>variable-name</var>]
                            &nbsp;
               </td> 
                        
               <td rowspan="4"> 
                  
                  <p><img src="../graphics/cbo4.gif" alt="" width="6" height="100"></p>
               </td> 
                        
               <td colspan="6" nowrap>
                  (<var>format-length</var>[/<var>array-definition</var>])
                            
               </td> 
                        
               <td rowspan="4"> 
                  
                  <p><img src="../graphics/cbc4.gif" alt="" width="6" height="100"></p> 
               </td> 
                        
               <td rowspan="4">&nbsp; [<code class="keyword">BY VALUE</code>] &nbsp;
               </td>
                        
                       
            </tr> 
                    
            <tr> 
                        
               <td rowspan="3"> ( </td> 
                        
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbo3.gif" alt="" width="6" height="59"></p> 
               </td> 
                        
               <td> <var>A</var></td> 
                        
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbc3.gif" alt="" width="6" height="59"></p> 
               </td> 
                        
               <td rowspan="3">[/<var>array-definition</var>]) 
               </td> 
                        
               <td rowspan="3" nowrap> <code class="keyword">DYNAMIC</code></td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td><var>U</var></td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td><var>B</var></td> 
                       
            </tr> 
                   
         </tbody> 
               
      </table> 
            
           
      <p>Syntax Element Description:</p> 
            
            
      <table border="1" class="color" cellpadding="3" width="97%">
         <colgroup>
            <col width="32%">
            <col width="65%">
         </colgroup> 
                 
                
         <tbody align="left" valign="top"> 
                    
            <tr> 
                        
               <th align="left">RETURNS</th> 
                        
               <td align="left">Each function may contain only one definition of
                  the return variable; that is, only one <code>RETURNS</code> clause is
                            possible.
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <th align="left">
                  <var>variable-name</var> 
               </th> 
                        
               <td align="left"> 
                  
                  <p>The return value may be assigned using the
                                <var>variable-name</var>. If no explicit variable name is given
                           in the definition, the name of the function is used as a return variable.
                  </p> 
                            
                  <p>The return value must not be an array.</p> 
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <th align="left">BY VALUE</th> 
                        
               <td align="left"> 
                  
                  <p>Each parameter may be defined as <code>BY VALUE RESULT</code> or
                     by reference, so that it is possible to return values to the caller using the
                     parameters. Recursive function calls may be used inside a function
                                definition.
                  </p> 
                            
                  <p>If you are using the <code>BY VALUE</code> keyword inside the
                                <code>RETURNS</code> clause, the return value of the function will be converted
                                into the return <var>format-length</var> which is set by the
                                <code>RETURNS</code> clause.
                  </p> 
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <th align="left">
                  <var>format-length</var> 
               </th> 
                        
               <td align="left">If the <code>BY VALUE</code> keyword is missing,
                            the <var>format-length</var> of the <code>RETURNS</code> clause
                            must match the <var>format-length</var> which is returned by
                            the function evaluated at run time.
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <th align="left"><var>array-definition</var></th> 
                        
               <td align="left">With
                  <var>array-definition</var>, you define the lower and upper
                  bounds of a dimension in an array-definition. For further information, see
                            <code>DEFINE DATA</code> statement, <a href="defineda_array.htm#defineda_array">Array Dimension
                               Definition</a>.
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <th align="left">DYNAMIC</th> 
                        
               <td align="left">A parameter may be defined as
                  <code>DYNAMIC</code>. For more information on processing dynamic variables, see
                            <a href="../pg/pg_defi_ldvfin.htm">Large and Dynamic
                               Variables/Fields</a> .
               </td> 
                       
            </tr> 
                   
         </tbody> 
               
      </table> 
            
           
          
         
      <div><a name="func_dat_def"></a></div> 
          
      <h3> Function Data Definition </h3> 
           
           
      <p>Each Function object may contain only one function data definition.</p>
           
            
            
      <table border="0" class="syntax" cellpadding="3"> 
                 
                 
                 
                 
                  
                
         <tbody align="left" valign="top"> 
                    
            <tr> 
                        
               <td colspan="11">&nbsp;
                  <a href="defineda_fu.htm#defineda_fu"><code class="keyword">DEFINE DATA</code>
                               </a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td rowspan="2" colspan="2">&nbsp; &nbsp; 
                  
                  <p><img src="../graphics/sbo2.gif" alt="" width="5" height="40"></p> 
               </td> 
                        
               <td rowspan="2"> <a href="defineda_pda.htm#defineda_pda">
                      <code class="keyword">PARAMETER</code> </a> 
               </td> 
                        
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p> 
               </td> 
                        
               <td colspan="3" nowrap>
                  <code class="keyword">USING</code> <a href="defineda_pda.htm#parameter_data_area">
                               <var>parameter-data-area</var> </a> 
               </td> 
                        
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbc2.gif" alt="" width="6" height="38"></p> 
               </td> 
                        
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/sbc2.gif" alt="" width="5" height="40"></p> 
               </td> 
                        
               <td rowspan="2">&nbsp; 
                  
                  <p><img src="../graphics/dot3.gif" alt="" width="12" height="4"></p> 
               </td> 
                        
               <td rowspan="2">&nbsp; &nbsp;</td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td colspan="3">
                  <a href="defineda_pda.htm#parameter_data_definition">
                               <var>parameter-data-definition</var> </a><img src="../graphics/dot3.gif" alt="" width="12" height="4"> 
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td rowspan="3" colspan="2">&nbsp; &nbsp; &nbsp; 
                  
                  <p><img src="../graphics/sbo3.gif" alt="" width="5" height="61"></p> 
               </td> 
                        
               <td rowspan="3"> <a href="defineda_lda.htm#defineda_lda">
                      <code class="keyword">LOCAL</code> </a> 
               </td> 
                        
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbo3.gif" alt="" width="6" height="59"></p> 
               </td> 
                        
               <td rowspan="2"> <code class="keyword">USING</code> 
               </td> 
                        
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p> 
               </td> 
                        
               <td> <a href="defineda_lda.htm#lda_local-data-area">
                      <var>local-data-area</var> </a> 
               </td> 
                        
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbc2.gif" alt="" width="6" height="38"></p> 
               </td> 
                        
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbc3.gif" alt="" width="6" height="59"></p> 
               </td> 
                        
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/sbc3.gif" alt="" width="5" height="61"></p> 
               </td> 
                        
               <td rowspan="3">&nbsp; &nbsp; 
                  
                  <p><img src="../graphics/dot3.gif" alt="" width="12" height="4"></p> 
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td nowrap>
                  <a href="defineda_lda.htm#lda_parameter-data-area">
                               <var>parameter-data-area</var> </a> 
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td colspan="3">
                  <var>data-definition</var>
                            <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                            
               </td> 
                        
               <td>&nbsp;</td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td colspan="11">[<a href="defineda_aiv.htm#defineda_aiv"><code class="keyword">INDEPENDENT</code></a>&nbsp;<a href="defineda_aiv.htm#aiv_data_def"><var>AIV-data-definition</var></a>
                            <img src="../graphics/dot3.gif" alt="" width="12" height="4">]
               </td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td colspan="11">&nbsp;
                  <a href="defineda_fu.htm#defineda_fu"><code class="keyword">END-DEFINE</code>
                               </a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
               </td> 
                       
            </tr> 
                   
         </tbody> 
               
      </table> 
            
           
      <p>When a function calls another Natural object which uses a global data
               area, it establishes its own global data area (GDA). Therefore it is not
               possible to modify the current GDA data of the calling object. A GDA cannot be
               defined in the function.
      </p> 
           
          
        
        
      <div class="noprint">
         <p><a href="definefu.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="EX"></a></div> 
         
      <h2> Example </h2> 
          
          
      <p>Function object containing function definition:</p> 
          <pre class="verbatim"><strong>DEFINE FUNCTION GET-FIRST-BYTE</strong>
RETURNS (A1)
DEFINE DATA PARAMETER
1 #PARA (A10)
END-DEFINE
GET-FIRST-BYTE := #PARA /* return value is assigned   
<strong>END-FUNCTION</strong>
END</pre> 
          
        
       <div class="noprint">
         <div class="nospy">
            <p><a href="definefu.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/definefu.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/definefu.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda_exa.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="definepr_uw.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>