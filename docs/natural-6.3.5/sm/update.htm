
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script language="JavaScript" src="../general/selbox.js"></script><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>UPDATE</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="update" id="16883"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/update.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/update.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="terminat.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="upload.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Statements&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1> UPDATE 
               <a name="x169"></a></h1>
      </div> 
         
         
      <div><a name="Structured_Mode_Syntax_update"></a></div>
      <h4 class="floating-title"> Structured Mode
             Syntax
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3">  
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td nowrap> <a href="update.htm#Function_update">
                      <code class="keyword">UPDATE</code></a> &nbsp;[<code class="keyword">RECORD</code>]&nbsp;[<code class="keyword">IN</code>]&nbsp;[<code class="keyword">STATEMENT</code>]&nbsp;[<a href="update.htm#r">(<var>r</var>)</a>] 
               </td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <div><a name="Reporting_Mode_Syntax_update"></a></div>
      <h4 class="floating-title"> Reporting Mode Syntax
             
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3"> 
               
               
                
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td> <a href="update.htm#Function_update"> <code class="keyword">UPDATE</code> </a> &nbsp;&nbsp;&nbsp; 
               </td> 
                      
               <td colspan="2">[<code class="keyword">RECORD</code>]
                        [<code class="keyword">IN</code>] [<code class="keyword">STATEMENT</code>]&nbsp;[(<a href="update.htm#r"><var>r</var></a>)] 
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td nowrap>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td align="center">&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td nowrap>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/sbo3.gif" alt="" width="5" height="61"></p> 
               </td> 
                      
               <td align="left"> <a href="update.htm#SET_WITH_update">
                      <code class="keyword">SET</code> </a> 
               </td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/sbc3.gif" alt="" width="5" height="61"></p> 
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td nowrap>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td align="left"> <a href="update.htm#SET_WITH_update">
                      <code class="keyword">WITH</code> </a> 
               </td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p> 
               </td> 
                      
               <td align="left" nowrap>
                  <a href="update.htm#USING_SAME_update"> <code class="keyword">SAME</code>
                             </a> [<code class="keyword">RECORD</code>] 
               </td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbc2.gif" alt="" width="6" height="38"></p> 
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td align="left"> <a href="update.htm#USING_SAME_update">
                      <code class="keyword">USING</code> </a> 
               </td> 
                      
               <td align="left" nowrap> {<a href="update.htm#SET_WITH_update"><var>operand1</var></a><code class="keyword">=</code><a href="update.htm#SET_WITH_update"><var>operand2</var></a>}
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <p>This document covers the following topics:</p>
         
      <ul>
         <li>
            <p class="initem"><a href="update.htm#Function_update">Function</a></p>
         </li>
         <li>
            <p class="initem"><a href="update.htm#Restrictions_update">Restrictions</a></p>
         </li>
         <li>
            <p class="initem"><a href="update.htm#db_considerations">Database-Specific Considerations</a></p>
         </li>
         <li>
            <p class="initem"><a href="update.htm#syntax_descr_update">Syntax Description</a></p>
         </li>
         <li>
            <p class="initem"><a href="update.htm#Example_update">Example</a></p>
         </li>
      </ul> 
         
      <p>For an explanation of the symbols used in the syntax diagram, see
             <a href="synsym.htm#Syntax_Symbols">Syntax
            Symbols</a>.
      </p> 
         
      <p>Related Statements: <a href="accept.htm#accept">ACCEPT/REJECT</a>
             | <a href="atbreak.htm#atbreak">AT BREAK</a> |
             <a href="atstart.htm#atstart">AT START OF DATA</a> |
             <a href="atenddat.htm#atenddat">AT END OF DATA</a> |
             <a href="backout.htm#backout">BACKOUT TRANSACTION</a> |
             <a href="before.htm#before">BEFORE BREAK PROCESSING</a> |
             <a href="delete.htm#delete">DELETE</a> | <a href="endtrans.htm#endtrans">END TRANSACTION</a> | <a href="find.htm#find">FIND</a> | <a href="get.htm#get">GET</a> |
             <a href="getsame.htm#getsame">GET SAME</a> |
             <a href="gettrans.htm#gettrans">GET TRANSACTION DATA</a> |
             <a href="histogra.htm#histogra">HISTOGRAM</a> | <a href="limit.htm#limit">LIMIT</a> | <a href="passw.htm#passw">PASSW</a>
             | <a href="performb.htm#performb">PERFORM BREAK PROCESSING</a> |
             <a href="read.htm#read">READ</a> | <a href="retry.htm#retry">RETRY</a> | <a href="store.htm#store">STORE</a>
             
      </p> 
         
      <p>Belongs to Function Group:
             <a href="stmt.htm#Database_Access_and_Update">Database Access and
            Update</a></p> 
        
      <hr> 
        
      <div><a name="Function_update"></a></div> 
         
      <h2> Function </h2> 
          
          
      <p>The <code>UPDATE</code> statement is used to update one or more fields
              of a record in a database. The record to be updated must have been previously
              selected with a <a href="find.htm#find"><code>FIND</code></a>,
              <a href="get.htm#get"><code>GET</code></a> or
              <a href="read.htm#read"><code>READ</code></a> statement (or, for
              Adabas only, with a <a href="store.htm#store"><code>STORE</code></a>
              statement).
      </p> 
          
         
      <div><a name="Hold_Status_update"></a></div> 
          
      <h3> Hold Status </h3> 
           
           
      <p>The use of the <code>UPDATE</code> statement causes each record read
               for processing in the corresponding <a href="find.htm#find"><code>FIND</code></a> or <a href="read.htm#read"><code>READ</code></a> statement to be placed in hold
               status.
      </p> 
           
      <p>For further information, see
               <a href="../pg/pg_dbms_ada.htm#Record_Hold_Logic">Record Hold
            Logic</a> (in the <cite>Programming Guide</cite>).
      </p>
           
           
          
        
        
      <div class="noprint">
         <p><a href="update.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="Restrictions_update"></a></div> 
         
      <h2> Restrictions </h2> 
          
          
      <ul> 
              
         <li> 
                  
            <p class="initem">The <code>UPDATE</code> statement must not be entered on the same line
                      as the statement used to select the record to be updated.
            </p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem">The <code>UPDATE</code> statement cannot be applied to Entire System
                      Server views.
            </p> 
                 
         </li> 
             
      </ul> 
          
        
        
      <div class="noprint">
         <p><a href="update.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="db_considerations"></a></div> 
         
      <h2> Database-Specific Considerations </h2> 
          
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <tbody align="left" valign="top"> 
                    
                    
                   
            <tr> 
                       
               <th> <a name="Considerations_SQL_update"></a>SQL 
               </th> 
                       
               <td> 
                  
                  <p>The <code>UPDATE</code> statement can be used to update a row in a
                     database table. It corresponds with the SQL statement
                               <a href="update_sql.htm#WHERE_update_sql"><code>UPDATE WHERE CURRENT OF
                                     CURSOR</code></a> (positioned <code>UPDATE</code>), which means that
                               only the row which was read last can be updated.
                  </p> 
                            
                           
                  <p>With most SQL databases, a row that was read with a
                               <a href="find.htm#SORTED_BY_clause"><code>FIND SORTED BY</code></a> or
                               with a <a href="read.htm#LOGICAL"><code>READ LOGICAL</code></a>
                               statement cannot be updated.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th> <a name="con_xml_da_update"></a>XML
                   
               </th> 
                       
               <td> 
                  
                  <p>The statement cannot be used with XML databases.</p> 
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
        
        
      <div class="noprint">
         <p><a href="update.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="syntax_descr_update"></a></div> 
         
      <h2> Syntax Description </h2> 
          
          
      <p>Operand Definition Table:</p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%">
         <colgroup>
            <col width="97%">
         </colgroup> 
                
                
                
                
                
                
                
                
                
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Operand</th> 
                       
               <th colspan="5" align="center">
                  <a href="synsym.htm#statem_poss_struct">Possible Structure</a> 
               </th> 
                       
               <th colspan="13" align="center">
                  <a href="synsym.htm#statem_poss_form">Possible Formats</a> 
               </th> 
                       
               <th align="center">
                  <a href="synsym.htm#statem_ref_perm">Referencing Permitted</a> 
               </th> 
                       
               <th align="center">
                  <a href="synsym.htm#statem_dyn_def">Dynamic Definition</a> 
               </th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td> <var>operand1</var> 
               </td> 
                       
               <td>&nbsp;</td> 
                       
               <td>S</td> 
                       
               <td>A</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>A</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>N</td> 
                       
               <td>P</td> 
                       
               <td>I</td> 
                       
               <td>F</td> 
                       
               <td>B</td> 
                       
               <td>D</td> 
                       
               <td>T</td> 
                       
               <td>L</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td align="center">no</td> 
                       
               <td align="center">no</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> <var>operand2</var> 
               </td> 
                       
               <td>C</td> 
                       
               <td>S</td> 
                       
               <td>A</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>A</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>N</td> 
                       
               <td>P</td> 
                       
               <td>I</td> 
                       
               <td>F</td> 
                       
               <td>B</td> 
                       
               <td>D</td> 
                       
               <td>T</td> 
                       
               <td>L</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td align="center">yes</td> 
                       
               <td align="center">no</td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <p>Syntax Element Description:</p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <th> <a name="r"></a>(<var>r</var>) 
               </th> 
                       
               <td> 
                  
                  <div><strong class="floating-title"> Statement Reference: </strong></div> 
                           
                  <p>The <a href="../pg/pg_defi_dv.htm#SR_Notation_r">notation
                                  <code>(<var>r</var>)</code></a> is used to indicate the
                          statement in which the record to be modified was read.
                               <var>r</var> may be specified as a source-code line number or
                               as a statement label.
                  </p> 
                           
                  <p>If no reference is specified, the <code>UPDATE</code> statement
                               will reference the innermost active <a href="read.htm#read"><code>READ</code></a> or <a href="find.htm#find"><code>FIND</code></a> processing loop. If no
                               <code>READ</code> or <code>FIND</code> loop is active, it will reference the
                               last preceding <a href="get.htm#get"><code>GET</code></a> (or
                               <a href="store.htm#store"><code>STORE</code></a>) statement.
                  </p> 
                           
                  <p class="note"><strong>Note:</strong><br> The <code>UPDATE</code> statement must be placed within the
                               <a href="read.htm#read"><code>READ</code></a> or
                               <a href="find.htm#find"><code>FIND</code></a> loop it
                               references.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th> <a name="USING_SAME_update"></a>USING
                  SAME 
               </th> 
                       
               <td> 
                  
                  <p>This clause is not permitted if a <code>DEFINE DATA</code>
                               statement is used, because in that case the <code>UPDATE</code> statement
                               always refers to the entire view as defined in the <code>DEFINE DATA</code>
                               statement.
                  </p> 
                           
                  <p>The layout of the record buffer or format buffer may be declared
                               using the <a href="obtain.htm#obtain"><code>OBTAIN</code></a>
                               statement.
                  </p> 
                           
                  <p><code>USING SAME</code> can be used in reporting mode to indicate
                               that the same fields as read in the statement referenced by the
                               <code>UPDATE</code> statement are to be used for the update function. In this
                               case, the most recent value assigned to each database field will be used to
                               update the field. If no new value has been assigned, the old value will be
                               used.
                  </p> 
                           
                  <p>If the field to be updated is an array range of a multiple-value
                               field or periodic group and you use a variable index for this array range, the
                               latest range will be updated. This means that if the index variable is modified
                               after the record has been read and before the <code>UPDATE USING SAME</code>
                               (reporting mode) or <code>UPDATE</code> (structured mode) statement
                               respectively is executed, the range updated will not be the same as the range
                               read.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th> <a name="SET_WITH_update"></a>SET/WITH
                   <var>operand1</var>=<var>operand2</var>
                            
               </th> 
                       
               <td> 
                  
                  <p>This clause can be used in reporting mode to specify the fields to
                     be updated and the values to be used.
                  </p> 
                           
                  <p>This clause is not permitted if a <code>DEFINE DATA</code>
                               statement is used, because in that case the <code>UPDATE</code> statement
                               always refers to the entire view as defined in the <code>DEFINE DATA</code>
                               statement.
                  </p> 
                            
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
        
        
      <div class="noprint">
         <p><a href="update.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="Example_update"></a></div> 
         
      <h2> Example </h2> 
          
          <pre class="verbatim">** Example 'UPDEX1S': UPDATE (structured mode)                          
**                                                                      
** CAUTION: Executing this example will modify the database records!    
************************************************************************
DEFINE DATA LOCAL                                                       
1 EMPLOY-VIEW VIEW OF EMPLOYEES                                         
  2 NAME                                                                
  2 FIRST-NAME                                                          
  2 CITY                                                                
*                                                                       
1 #NAME (A20)                                                           
END-DEFINE                                                              
*                                                                       
INPUT 'ENTER A NAME:' #NAME (AD=M)                                      
IF #NAME = ' '                                                          
  STOP                                                                  
END-IF                                                                  
*                                                                       
FIND EMPLOY-VIEW WITH NAME = #NAME                                      
  IF NO RECORDS FOUND                      
    REINPUT WITH 'NO RECORDS FOUND'  MARK 1
  END-NOREC                                
  INPUT 'NAME:      ' NAME (AD=O) /        
        'FIRST NAME:' FIRST-NAME (AD=M) /  
        'CITY:      ' CITY (AD=M)           
  <strong>UPDATE                                   
  END TRANSACTION</strong>                        
END-FIND                                   
*                                          
END  </pre> 
          <h4 class="floating-title">Output of Program SUBEX1S</h4> <pre class="system-output">
ENTER A NAME: <strong>BROWN</strong>
            </pre> 
          <h4 class="floating-title">After entering and confirming name:</h4> <pre class="system-output">NAME: BROWN
FIRST NAME: KENNETH
CITY: DERBY</pre> 
          <p>Equivalent reporting-mode example: <a href="sm_exas.htm#UPDEX1R">UPDEX1R</a>.
      </p> 
          
        
       
      <div class="noprint">
         <div class="nospy">
            <p><a href="update.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/update.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/update.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="terminat.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="upload.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>