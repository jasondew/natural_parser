
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script language="JavaScript" src="../general/selbox.js"></script><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>Defining Context Variables for Natural RPC</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="defineda_cv" id="16505"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/defineda_cv.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/defineda_cv.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda_aiv.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda_nxx.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Statements&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1> 
               <a name="x64"></a> 
               <a name="x65"></a> 
               <a name="x66"></a>Defining Context Variables for Natural RPC
         </h1>
      </div> 
         
         
      <p>General syntax of <code>DEFINE DATA CONTEXT</code>:
      </p> 
          
          
      <table border="0" class="syntax" cellpadding="3">  
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td rowspan="3" nowrap> 
                  
                  <p><img src="../graphics/sbo5.gif" alt="" width="5" height="100"></p>
               </td> 
                      
               <td rowspan="3" nowrap><a href="defineda_cv.htm#function_define_data_context"> <code class="keyword">CONTEXT</code></a></td> 
                      
               <td rowspan="3" nowrap> 
                  
                  <p><img src="../graphics/cbo5.gif" alt="" width="6" height="100"></p>
               </td> 
                      
               <td rowspan="2" nowrap><code class="keyword">USING</code></td> 
                      
               <td rowspan="2" align="right" nowrap> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p>
               </td> 
                      
               <td nowrap><a href="defineda_cv.htm#lda_context">
                     <var>local-data-area</var></a></td> 
                      
               <td rowspan="2" align="left" nowrap> 
                  
                  <p><img src="../graphics/cbc2.gif" alt="" width="6" height="38"></p>
               </td> 
                      
               <td rowspan="3" nowrap> 
                  
                  <p><img src="../graphics/cbc5.gif" alt="" width="6" height="100"></p>
               </td> 
                      
               <td rowspan="3" nowrap> 
                  
                  <p><img src="../graphics/sbc5.gif" alt="" width="5" height="100"></p>
               </td> 
                      
               <td rowspan="3" nowrap> 
                  
                  <p><img src="../graphics/dot3.gif" alt="" width="12" height="4"></p>
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td nowrap><a href="defineda_cv.htm#pda_context">
                     <var>parameter-data-area</var></a></td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td colspan="4" nowrap><a href="defineda_cv.htm#context_data_definition">
                     <var>context-data-definition</var></a>
                          <img src="../graphics/dot3.gif" alt="../graphics/dot3.gif" width="12" height="4"></td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <p>This document covers the following topics:</p>
         
      <ul>
         <li>
            <p class="initem"><a href="defineda_cv.htm#function_define_data_context">Function</a></p>
         </li>
         <li>
            <p class="initem"><a href="defineda_cv.htm#restriction_define_data_context">Restrictions</a></p>
         </li>
         <li>
            <p class="initem"><a href="defineda_cv.htm#syntax_descr_define_data_context">Syntax Description</a></p>
         </li>
      </ul> 
         
      <p>For an explanation of the symbols used in the syntax diagrams, see
             <a href="synsym.htm#Syntax_Symbols">Syntax
            Symbols</a>.
      </p> 
         
      <p>Belongs to Function Group: <a href="stmt.htm#nat-rpc-sm">Natural Remote Procedure
            Call</a></p>
      <hr> 
        
      <div><a name="function_define_data_context"></a></div> 
         
      <h2>Function</h2> 
          
          
      <p>The <code>DEFINE DATA CONTEXT</code> statement is used in conjunction
              with the <a href="../rpc/rpc-over.htm">Natural Remote Procedure
                 Call</a> (RPC). It is used to define variables known as context
              variables, which are meant to be available to multiple remote subprograms
              within one conversation, without having to explicitly pass the variables as
              parameters with the corresponding <a href="callnat.htm#callnat"><code>CALLNAT</code></a> statements.
      </p> 
          
      <p>A context variable is referenced by its name, and its content is shared
              by all programming objects executed in one conversation that refer to that
              name. The variable is allocated by the first executed programming object that
              contains the definition of the variable and is deallocated when the
              conversation ends.
      </p> 
          
      <p>Context variables can also be used in a non-conversational
              <code>CALLNAT</code>. In this case, the context variables only exist during a
              single invocation of this <code>CALLNAT</code> but the variables can be shared
              with all its callees.
      </p> 
          
      <p>A context variable is not shared with subprograms that are called within
              the conversation. If such a subprogram or one of its callees references a
              context variable, a separate storage area is allocated for this variable.
      </p> 
          
      <p>The optional <a href="defineda_vari.htm#vari_INIT"><code>INIT</code></a>
              clause is evaluated in each executed programming object that contains this
              clause (not only in the programming object that allocates the variable). This
              is different to the way the <code>INIT</code> works for global variables.
      </p> 
          
      <p>For further information, see
              <a href="../rpc/using.htm#using_Defining_a_Conversation_Context">Defining
            a Conversation Context</a> in the
              <a href="../rpc/rpc-over.htm">Natural Remote Procedure Call
            (RPC)</a> documentation.
      </p> 
          
        
        
      <div class="noprint">
         <p><a href="defineda_cv.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="restriction_define_data_context"></a></div> 
         
      <h2>Restrictions</h2> 
          
          
      <p>A context variable must be defined at Level 01. Other levels are only
              used in a redefinition.
      </p> 
          
        
        
      <div class="noprint">
         <p><a href="defineda_cv.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="syntax_descr_define_data_context"></a></div> 
         
      <h2>Syntax Description</h2> 
          
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <th nowrap>USING <a name="lda_context"></a>
                        <var>local-data-area</var></th> 
                       
               <td> 
                  
                  <p>A <a href="../pg/pg_obj_darea.htm#Local_Data_Area">local data
                                 area</a> (LDA) contains data elements which are to be used in a single
                     Natural module. You may reference more than one data area; in that case you
                         have to repeat the reserved words <code>CONTEXT</code> and <code>USING</code>,
                               for example:
                  </p> 
                           <pre class="verbatim">DEFINE DATA
  CONTEXT USING DATX_L
  CONTEXT USING DATX_P

  ...
END-DEFINE ;</pre> 
                           <p>For further information, see also
                               <a href="../pg/pg_defi.htm#fields_in_lda">Defining Fields in a
                                  Separate Data Area</a> in the <cite>Programming
                                  Guide</cite>.
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap>USING <a name="pda_context"></a>
                        <var>parameter-data-area</var></th> 
                       
               <td>A parameter data area contains data elements which are used as
                  parameters in a subprogram, external subroutine or dialog.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap>
                  <a name="context_data_definition"></a><var>context-data-definition</var></th>
                       
                       
               <td> Context data can be defined directly within a program or
                  routine. For direct data definition, the syntax shown
                  <a href="defineda_cv.htm#context_data_def_descr">below</a> applies.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a name="end_define_context"></a>END-DEFINE
               </th> 
                       
               <td> The Natural reserved word <code>END-DEFINE</code> must be used
                           to end the <code>DEFINE DATA</code> statement.
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <div><a name="context_data_def_descr"></a></div>
      <h4 class="floating-title"> Context Data
              Definition
      </h4> 
          
      <p>Context data can be defined directly within a program or routine. For
              direct data definition, the following syntax applies:
      </p> 
           
           
      <table border="0" class="syntax" cellpadding="3"> 
                
                
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td rowspan="3" align="center" nowrap>
                  <a href="defineda_cv.htm#level_cont">
                              <var>level</var></a></td> 
                       
               <td rowspan="3" nowrap> 
                  
                  <p><img src="../graphics/cbo3.gif" alt="" width="6" height="59"></p>
               </td> 
                       
               <td nowrap> <a href="defineda_vari.htm#defineda_vari">
                      <var>variable-definition</var></a></td> 
                       
               <td rowspan="3" nowrap> 
                  
                  <p><img src="../graphics/cbc3.gif" alt="" width="6" height="59"></p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td nowrap><var>redefinition</var></td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td nowrap><a href="defineda_hndl.htm#defineda_hndl">
                     <var>handle-definition</var></a></td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <p>For further information, see
              <a href="../pg/pg_defi.htm#fields_within">Defining Fields within
            a DEFINE DATA Statement</a> in the <cite>Programming
                 Guide</cite>.
      </p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <th> <a name="level_cont"></a><var>level</var></th> 
                       
               <td> An application-independent variable must be defined at Level
                  01. Other levels are only used in a redefinition.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a href="defineda_vari.htm#defineda_vari">
                      <var>variable-definition</var></a></th> 
                       
               <td> 
                  
                  <p>A <var>variable-definition</var> is used to define
                     a single field/variable that may be single-valued (scalar) or multi-valued
                               (array). See <a href="defineda_vari.htm#defineda_vari">Variable
                                  Definition</a>.
                  </p> 
                           
                  <p class="note"><strong>Note:</strong><br> The <a href="defineda_vari.htm#vari_CONST"><code>CONSTANT</code></a> clause must not be used
                               in this context
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a href="defineda_redef.htm#defineda_redef">
                      <var>redefinition</var></a></th> 
                       
               <td>A <var>redefinition</var> may be used to
                  redefine a group, a view, a DDM field or a single field/variable (that is a
                  scalar or an array). See <a href="defineda_redef.htm#defineda_redef">Redefinition</a>. 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a href="defineda_hndl.htm#defineda_hndl">
                      <var>handle-definition</var></a></th> 
                       
               <td>A handle identifies a dialog element in code and is stored in
                  handle variables. See <a href="defineda_hndl.htm#defineda_hndl">Handle
                              Definition</a>. 
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <p class="note"><strong>Note:</strong><br> The fields resulting from the redefinition are not considered a
              context variable. These fields are treated as local variables.
      </p> 
          
        
       
      <div class="noprint">
         <div class="nospy">
            <p><a href="defineda_cv.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/defineda_cv.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/defineda_cv.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda_aiv.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="defineda_nxx.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>