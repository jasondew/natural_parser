
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script language="JavaScript" src="../general/selbox.js"></script><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>READ WORK FILE</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="readwork" id="16845"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/readwork.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/readwork.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="read.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="redefine.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Statements&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1> READ WORK FILE 
               <a name="x141"></a></h1>
      </div> 
         
         
      <div><a name="Structured_Mode_Syntax_readwork"></a></div>
      <h4 class="floating-title"> Structured Mode Syntax
             
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3"> 
               
               
               
               
               
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td> <code class="keyword">READ</code> 
               </td> 
                      
               <td colspan="9"> [<code class="keyword">WORK
                     FILE</code>] <a href="readwork.htm#work-file-number_readwork"><var>work-file-number</var></a>
                          [<a href="readwork.htm#ONCE"><code class="keyword">ONCE</code></a>]
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbo3.gif" alt="" width="6" height="59"></p> 
               </td> 
                      
               <td> <a href="readwork.htm#RECORD"> <code class="keyword">RECORD</code>
                             </a> <a href="readwork.htm#operand1_readwork">
                             <var>operand1</var> </a> 
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbc3.gif" alt="" width="6" height="59"></p> 
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="2" nowrap> [<code class="keyword">AND</code>]
                      [<a href="readwork.htm#SELECT"><code class="keyword">SELECT</code></a>]
                          
               </td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p> 
               </td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/sbo2.gif" alt="" width="5" height="40"></p> 
               </td> 
                      
               <td nowrap> <a href="readwork.htm#OFFSET"> <code class="keyword">OFFSET</code> </a> <a href="readwork.htm#OFFSET">
                             <var>n</var> </a> 
               </td> 
                      
               <td rowspan="2">
                  <img src="../graphics/sbc2.gif" alt="" width="5" height="40">
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                      
               <td rowspan="2"> <a href="readwork.htm#operand2_readwork">
                      <var>operand2</var> </a> 
               </td> 
                      
               <td rowspan="2">
                  <img src="../graphics/cbc2.gif" alt="" width="6" height="38">
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td nowrap> <a href="readwork.htm#FILLER"> <code class="keyword">FILLER</code> </a> <a href="readwork.htm#FILLER">
                             <var>n</var><code class="keyword">X</code> </a> 
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td colspan="9" align="left"> [<a href="readwork.htm#operand3_readwork"><code class="keyword">GIVING
                        LENGTH</code></a> <a href="readwork.htm#operand3_readwork"><var>operand3</var></a>]
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/sbo3.gif" alt="" width="6" height="59"></p> 
               </td> 
                      
               <td align="center" nowrap> <a href="readwork.htm#AT_END_OF_FILE"> <code class="keyword">AT</code> [<code class="keyword">END</code>] [<code class="keyword">OF</code>] [<code class="keyword">FILE</code>] </a> 
               </td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/sbc3.gif" alt="" width="6" height="59"></p> 
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td align="left"> <a href="synsym.htm#note_statement">
                      <var>statement</var> </a>
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td align="left"> <code class="keyword">END-ENDFILE</code> 
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td colspan="2"> <a href="synsym.htm#note_statement"> <var>statement</var> </a>
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td colspan="3"> <code class="keyword">END-WORK</code> 
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <div><a name="Reporting_Mode_Syntax_readwork"></a></div>
      <h4 class="floating-title"> Reporting Mode Syntax
             
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3"> 
               
               
               
               
               
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td> <a href="readwork.htm#Function_readwork"> <code class="keyword">READ</code> </a> 
               </td> 
                      
               <td colspan="9" align="left" nowrap>
                  [<a href="readwork.htm#Function_readwork"><code class="keyword">WORK
                              FILE</code></a>] <a href="readwork.htm#work-file-number_readwork"><var>work-file-number</var></a>
                          [<a href="readwork.htm#ONCE"><code class="keyword">ONCE</code></a>]
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbo3.gif" alt="" width="6" height="59"></p> 
               </td> 
                      
               <td colspan="7"> <a href="readwork.htm#RECORD">
                      <code class="keyword">RECORD</code> </a> {<a href="readwork.htm#operand1_readwork"><var>operand1</var> </a>
                          [<a href="readwork.htm#FILLER"><code class="keyword">FILLER</code> </a>
                          <a href="readwork.htm#FILLER"> <var>n</var><code class="keyword">X</code></a>]}
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                      
               <td rowspan="3"> 
                  
                  <p><img src="../graphics/cbc3.gif" alt="" width="6" height="59"></p> 
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="2" nowrap> [<code class="keyword">AND</code>]
                       <a href="readwork.htm#SELECT"> [<code class="keyword">SELECT</code>] </a>
                          
               </td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p> 
               </td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/sbo2.gif" alt="" width="5" height="40"></p> 
               </td> 
                      
               <td nowrap> <a href="readwork.htm#OFFSET"> <code class="keyword">OFFSET</code> </a> <a href="readwork.htm#OFFSET">
                             <var>n</var> </a> 
               </td> 
                      
               <td rowspan="2">
                  <img src="../graphics/sbc2.gif" alt="" width="5" height="40">
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                      
               <td rowspan="2"> <a href="readwork.htm#operand2_readwork">
                      <var>operand2</var> </a> 
               </td> 
                      
               <td rowspan="2">
                  <img src="../graphics/cbc2.gif" alt="" width="6" height="38">
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4">
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td nowrap> <a href="readwork.htm#FILLER"> <code class="keyword">FILLER</code> </a> <a href="readwork.htm#FILLER">
                             <var>n</var><code class="keyword">X</code> </a> 
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td colspan="9"> [<a href="readwork.htm#operand3_readwork"><code class="keyword">GIVING LENGTH</code>
                             </a> <a href="readwork.htm#operand3_readwork"><var>operand3</var></a>]
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/sbo2.gif" alt="" width="5" height="40"></p> 
               </td> 
                      
               <td rowspan="2" align="center" nowrap>
                  <a href="readwork.htm#AT_END_OF_FILE"> <code class="keyword">AT</code> [<code class="keyword">END</code>] [<code class="keyword">OF</code>] [<code class="keyword">FILE</code>] </a>
                          
               </td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p> 
               </td> 
                      
               <td colspan="5" align="left">
                  <a href="synsym.htm#note_statement">
                             <var>statement</var></a> 
               </td> 
                      
               <td rowspan="2">
                  <img src="../graphics/cbc2.gif" alt="" width="6" height="38">
                          <img src="../graphics/sbc2.gif" alt="" width="5" height="40">
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td colspan="5" align="left" nowrap>
                  <a href="dodoend.htm#dodoend"> <code class="keyword">DO</code>
                             <var>statement</var> </a>
                          <img src="../graphics/dot3.gif" alt="" width="12" height="4"> &nbsp;
                          <a href="dodoend.htm#dodoend"> <code class="keyword">DOEND</code> </a>
                          
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td>&nbsp;</td> 
                      
               <td colspan="2"> <a href="synsym.htm#note_statement"> <var>statement</var>
                             </a><img src="../graphics/dot3.gif" alt="" width="12" height="4"> 
               </td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> [<a href="loop.htm#loop"><code class="keyword">LOOP</code></a>] 
               </td> 
                      
               <td colspan="2">&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                      
               <td>&nbsp;</td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <p>This document covers the following topics:</p>
         
      <ul>
         <li>
            <p class="initem"><a href="readwork.htm#Function_readwork">Function</a></p>
         </li>
         <li>
            <p class="initem"><a href="readwork.htm#syntax_descr_read_work_file">Syntax Description</a></p>
         </li>
         <li>
            <p class="initem"><a href="readwork.htm#Field_Lengths">Field Lengths</a></p>
         </li>
         <li>
            <p class="initem"><a href="readwork.htm#Handling_of_Large_and_Dynamic_Variables">Handling of Large and Dynamic Variables</a></p>
         </li>
         <li>
            <p class="initem"><a href="readwork.htm#Example_readwork">Example</a></p>
         </li>
      </ul> 
         
      <p>For an explanation of the symbols used in the syntax diagram, see
             <a href="synsym.htm#Syntax_Symbols">Syntax
            Symbols</a>.
      </p> 
         
      <p>Related Statements: <a href="closewf.htm#closewf">CLOSE WORK
                FILE</a> | <a href="definewo.htm#definewo">DEFINE WORK FILE</a> |
             <a href="writewor.htm#writewor">WRITE WORK FILE</a> 
      </p> 
         
      <p>Belongs to Function Group: <a href="stmt.htm#Control_of_Work_Files">Control of Work Files / PC
            Files</a></p> 
        
      <hr> 
        
      <div><a name="Function_readwork"></a></div> 
         
      <h2> Function </h2> 
          
          
      <p>The <code>READ WORK FILE</code> statement is used to read data from a
              non-Adabas physical sequential work file. The data is read sequentially from
              the work file. How it is read is independent of how it was written to the work
              file.
      </p> 
           
          
      <p><code>READ WORK FILE</code> initiates and executes a processing loop for
              reading of all records on the work file. Automatic break processing may be
              performed within a <code>READ WORK FILE</code> loop.
      </p> 
          
      <p class="notes"><strong>Notes:</strong></p>
      <ol class="note-list"> 
              
         <li>When an end-of-file condition occurs during the execution of a
                  <code>READ WORK FILE</code> statement, Natural automatically closes the work
                  file.
         </li> 
              
         <li>For Entire Connection: If an Entire Connection work file is read,
                  no I/O statement may be placed within the <code>READ WORK FILE</code>
                  processing loop.
         </li> 
              
         <li>For Unicode and code page support, see <a href="../unicode/uni-data.htm#uni-data-workprintfiles">Work Files and
               Print Files on Windows, UNIX and OpenVMS
               Platforms</a> in the
                  <cite>Unicode and Code Page Support</cite> documentation. 
         </li> 
             
      </ol> 
          
      <p>If an ASCII work file is read, it is possible that an
              empty record is returned as the last record after the last physical record.
              This is due to the fact that Natural does not read individual records, but
              reads larger blocks of the work file in order to optimize file-access
              performance.
      </p> 
          
        
        
      <div class="noprint">
         <p><a href="readwork.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="syntax_descr_read_work_file"></a></div> 
         
      <h2> Syntax Description </h2> 
          
          
      <p><a name="operand_definition_table_read_work"></a> Operand Definition Table:
      </p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
                
                
                
                
                
                
                
                
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th>Operand</th> 
                       
               <th colspan="5" align="center">
                  <a href="synsym.htm#statem_poss_struct">Possible Structure</a> 
               </th> 
                       
               <th colspan="13" align="center">
                  <a href="synsym.htm#statem_poss_form">Possible Formats</a> 
               </th> 
                       
               <th align="center"> <a href="synsym.htm#statem_ref_perm">Referencing
                     Permitted</a> 
               </th> 
                       
               <th align="center"> <a href="synsym.htm#statem_dyn_def">Dynamic
                     Definition</a> 
               </th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td> <var>operand1</var> 
               </td> 
                       
               <td>&nbsp;</td> 
                       
               <td>S</td> 
                       
               <td>A</td> 
                       
               <td>G</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>A</td> 
                       
               <td>U</td> 
                       
               <td>N</td> 
                       
               <td>P</td> 
                       
               <td>I</td> 
                       
               <td>F</td> 
                       
               <td>B</td> 
                       
               <td>D</td> 
                       
               <td>T</td> 
                       
               <td>L</td> 
                       
               <td>C</td> 
                       
               <td align="center">G</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">yes</td> 
                       
               <td align="center">yes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> <var>operand2</var> 
               </td> 
                       
               <td>&nbsp;</td> 
                       
               <td>S</td> 
                       
               <td>A</td> 
                       
               <td>G</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>A</td> 
                       
               <td>U</td> 
                       
               <td>N</td> 
                       
               <td>P</td> 
                       
               <td>I</td> 
                       
               <td>F</td> 
                       
               <td>B</td> 
                       
               <td>D</td> 
                       
               <td>T</td> 
                       
               <td>L</td> 
                       
               <td>C</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">yes</td> 
                       
               <td align="center">yes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> <var>operand3</var> 
               </td> 
                       
               <td>&nbsp;</td> 
                       
               <td>S</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>I</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td>&nbsp;</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">&nbsp;</td> 
                       
               <td align="center">yes</td> 
                       
               <td align="center">yes</td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <p>When using the work file types ENTIRECONNECTION or
              TRANSFER, <var>operand2</var> may not be of format C.
      </p> 
           
          
      <p>See also <a href="readwork.htm#Field_Lengths">Field
            Lengths</a>.
      </p> 
          
      <p>Syntax Element Description:</p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <th nowrap>
                  <a name="work-file-number_readwork"></a>
                           <var>work-file-number</var> 
               </th> 
                       
               <td colspan="2"> 
                  
                  <div><strong class="floating-title"> Work File Number: </strong></div> 
                           
                  <p>The number of the work file (as defined to Natural) to be read.</p>
                           
                           
                  <div><a name="Variable_Index_Range_readwork"></a></div>
                  <div><strong class="floating-title"> Variable Index
                                  Range: </strong></div> 
                           
                  <p>When reading an array from a work file, you can specify a variable
                               index range for the array. For example:
                  </p> 
                           <pre class="verbatim">READ WORK FILE <var>work-file-number</var> #ARRAY (I:J)</pre> </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a name="ONCE"></a>ONCE
                   
               </th> 
                       
               <td colspan="2"> 
                  
                  <div><strong class="floating-title"> ONCE Option: </strong></div> 
                           
                  <p><code>ONCE</code> is used to indicate that only one record is to be
                     read. No processing loop is initiated (and therefore the loop-closing keyword
                               <code>END-WORK</code> or <code>LOOP</code> must not be specified). If
                               <code>ONCE</code> is specified, the <code>AT END OF FILE</code> clause should
                               also be used.
                  </p> 
                           
                  <p>If a <code>READ WORK FILE</code> statement specified with the
                               <code>ONCE</code> option is controlled by a user-initiated processing loop, an
                               end-of-file condition may be detected on the work file before the loop ends.
                               All fields read from the work file still contain the values from the last
                               record read. The work file is then repositioned to the first record which will
                               be read upon the next execution of <code>READ WORK FILE ONCE</code>.
                  </p>
                           
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a name="RECORD"></a>
                  RECORD <a name="operand1_readwork"></a><var>operand1</var> FILLER
                           <var>n</var>X
               </th> 
                       
               <td colspan="2"> 
                  
                  <div><strong class="floating-title"> RECORD Option:</strong></div> 
                           
                  <p>If <code>RECORD</code> is specified, all fields in each record read
                     are made available for processing. An operand list
                               (<var>operand1</var>) corresponding to the layout of the record
                               must be provided.
                  </p> 
                           
                  <p>A <code>FILLER <var>n</var>X</code> entry indicates
                               <var>n</var> bytes are to be skipped in the input record. The
                               record as defined in the <code>RECORD</code> clause must be in contiguous
                               storage. <code>FILLER</code> is not permitted in structured mode.
                  </p> 
                           
                  <p>In structured mode, or if the record to be used is defined using a
                               <code>DEFINE DATA</code> statement, only one field (or group) may be used.
                               <code>FILLER</code> is not permitted in this case.
                  </p> 
                           
                  <p>No checking and no conversion is performed by Natural on the data
                               contained in the record. It is the user's responsibility to describe the record
                               layout correctly in order to avoid program abends caused by non-numeric data in
                               numeric fields. Because no checking is performed by Natural, this option is the
                               fastest way to process records from a sequential file. The record area defined
                               by <var>operand1</var> is filled with blanks before the record
                               is read. Thus, an end-of-file condition will return a cleared area. Short
                               records will have blanks appended.
                  </p> 
                            
                           
                  <p>See <a href="readwork.htm#rec_opt_ovw_tbl">Overview of RECORD Option
                                  Usage</a> below. 
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th rowspan="4" nowrap> <a name="SELECT"></a>SELECT 
               </th> 
                       
               <td colspan="2"> 
                  
                  <div><strong class="floating-title"> SELECT Option (Default): </strong></div> 
                           
                  <p>If <code>SELECT</code> is specified, only the fields specified in
                               the operand list (<a name="operand2_readwork"></a><var>
                                  operand2</var>) will be made available. The position of the
                               field in the input record may be indicated with an <code>OFFSET</code> and/or
                               <code>FILLER</code> specification.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> <a name="OFFSET"></a>OFFSET
                   <var>n</var> 
               </td> 
                       
               <td><code>OFFSET 0</code> indicates the first byte of the record.
                          
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td> <a name="FILLER"></a>FILLER
                   <var>n</var>X
               </td> 
                       
               <td>Indicates that <var>n</var> bytes are to be
                  skipped in the input record.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td colspan="2"> 
                  
                  <p>Natural will assign the selected values to the individual fields
                     and check that numeric fields as selected from the record actually contain
                     valid numeric data according to their definition. Because checking of selected
                     fields is performed by Natural, this option results in more overhead for the
                     processing of a sequential file.
                  </p> 
                           
                  <p>If a record does not fill all fields specified in the
                               <code>SELECT</code> option, the following applies:
                  </p> 
                           
                  <ul> 
                               
                     <li> 
                                   
                        <p class="initem">For a field which is only partially filled, the section which has
                                       not been filled is reset to blanks or zeros.
                        </p> 
                                  
                     </li> 
                               
                     <li> 
                                   
                        <p class="initem">Fields which are not filled at all still have the contents they
                                       had before.
                        </p> 
                                  
                     </li> 
                              
                  </ul> 
                           
                  <p>If the file type CSV is read, the <code>OFFSET</code> option are
                               ignored.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a name="operand3_readwork"></a>GIVING LENGTH
                   <var>operand3</var> 
               </th> 
                       
               <td colspan="2"> 
                  
                  <p>The <code>GIVING LENGTH</code> clause can be used to retrieve the
                     actual length of the record being read. The length (number of bytes) is
                               returned in <var>operand3</var>.
                  </p> 
                           
                  <p> <var>operand3</var> must be defined with
                               format/length I4.
                  </p> 
                           
                  <p>If the work file is defined as <code>TYPE UNFORMATTED</code>, the
                               length returned indicates the number of bytes read from the byte-stream,
                               including bytes skipped using the <code>FILLER</code> operand.
                  </p> 
                           
                  <p>If the <code>GIVING LENGTH</code> clause is used with work file
                               type CSV, the operand specified with <code>GIVING LENGTH</code> returns the
                               number of fields in the record (not the length of the record). 
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap>
                  <a name="AT_END_OF_FILE" id="10974"></a>AT END OF FILE 
               </th> 
                       
               <td colspan="2"> 
                  
                  <p>The <code>AT END OF FILE</code> clause can only be used in
                             conjunction with the <a href="readwork.htm#ONCE"><code>ONCE</code></a>
                               option. If the <code>ONCE</code> option is used, this clause should be
                               specified to indicate the action to be taken when an end-of-file condition is
                               detected.
                  </p> 
                           
                  <p>If the <code>ONCE</code> option is not used, an end-of-file
                               condition is handled like a normal processing loop termination.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a name="end_work"></a>END-WORK 
               </th> 
                       
               <td colspan="2">The Natural reserved word
                  <code>END-WORK</code> must be used to end the <code>READ WORK FILE</code>
                           statement.
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
           
           
      <div><a name="rec_opt_ovw_tbl"></a></div>
      <h4 class="floating-title">Overview of RECORD Option
               Usage
      </h4> 
            
            
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
         <thead align="left" valign="top"> 
                    
            <tr> 
                        
               <th><code>RECORD</code> option is used with
               </th> 
                        
               <th>rejected at compile time</th> 
                        
               <th>rejected at runtime</th> 
                        
               <th><code>RECORD</code> option is ignored,
                  processing switches to SELECT mode 
               </th> 
                       
            </tr> 
                   
         </thead> 
                
         <tbody align="left" valign="top"> 
                    
            <tr> 
                        
               <td>work file type ENTIRE CONNECTION
                  or TRANSFER
               </td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">x</td> 
                        
               <td align="center">&nbsp;</td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td>dynamic variables</td> 
                        
               <td align="center">x</td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">&nbsp;</td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td>work file type CSV</td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">x</td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td>work file type PORTABLE</td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">x</td> 
                       
            </tr> 
                    
            <tr> 
                        
               <td>work file types ASCII, ASCII COMPRESSED, CSV,
                  UNFORMATTED, code page is specified in <a href="../config/cfg-over.htm">Configuration Utility</a> (conversion is
                       necessary) or at least one Unicode field is specified (operand of format U,
                            conversion is necessary) 
               </td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">&nbsp;</td> 
                        
               <td align="center">x</td> 
                       
            </tr> 
                   
         </tbody> 
               
      </table> 
            
          
        
        
      <div class="noprint">
         <p><a href="readwork.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="Field_Lengths"></a></div> 
         
      <h2> Field Lengths </h2> 
          
          
      <p>The field lengths in the
              <a href="readwork.htm#operand_definition_table_read_work">Operand Definition
                 Table</a> are determined as follows:
      </p> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th align="left">Format</th> 
                       
               <th align="left">Length</th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td align="left">A, B, I, F</td> 
                       
               <td align="left">The number of bytes in the input record is the same
                  as the internal length definition.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td align="left">N</td> 
                       
               <td align="left">The number of bytes in the input record is the sum
                  of internal positions before and after the decimal point. The decimal point and
                  sign do not occupy a byte position in the input record.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td align="left">P, D, T</td> 
                       
               <td align="left">The number of bytes in the input record is the sum
                  of positions before and after the decimal point plus 1 for the sign, divided by
                  2 rounded upwards.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td align="left">L</td> 
                       
               <td align="left">1 byte is used. For C format fields, 2 bytes are
                  used.
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <h4 class="floating-title">Examples of Field Lengths:</h4> 
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th> Field Definition </th> 
                       
               <th> Input Record </th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td>#FIELD1 (A10)</td> 
                       
               <td>10 bytes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>#FIELD2 (B15)</td> 
                       
               <td>15 bytes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>#FIELD3 (N1.3)</td> 
                       
               <td>4 bytes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>#FIELD4 (N0.7)</td> 
                       
               <td>7 bytes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>#FIELD5 (P1.2)</td> 
                       
               <td>2 bytes</td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td>#FIELD6 (P6.0)</td> 
                       
               <td>4 bytes</td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
      <p>See also <a href="../pg/pg_defi_dv.htm#Format_Length_Def">Format and Length of
            User-Defined Variables</a> in the <cite>Programming
                 Guide</cite>.
      </p> 
          
        
        
      <div class="noprint">
         <p><a href="readwork.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="Handling_of_Large_and_Dynamic_Variables"></a></div> 
         
      <h2> Handling of Large and Dynamic Variables </h2> 
          
           
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <thead align="left" valign="top"> 
                   
            <tr> 
                       
               <th> Work File Type </th> 
                       
               <th> Handling </th> 
                      
            </tr> 
                  
         </thead> 
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <td nowrap> 
                  
                  <p class="mini-list"> 
                               <a href="definewo.htm#ascii">ASCII</a><br> 
                               <a href="definewo.htm#ascii_comp">ASCII-COMPRESSED</a><br> 
                               <a href="definewo.htm#sag">SAG</a>(binary)  
                              
                  </p> 
               </td> 
                       
               <td>The work file types ASCII, ASCII-COMPRESSED and SAG (binary)
                  cannot handle dynamic variables and will produce an error. They can, however,
                  handle large variables with a maximum field/record length of 32766
                  bytes.
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td nowrap> 
                  
                  <p class="mini-list"> 
                               <a href="definewo.htm#transfer">TRANSFER</a><br> 
                               <a href="definewo.htm#entire">ENTIRECONNECTION</a> 
                              
                  </p> 
               </td> 
                       
               <td> 
                  
                  <p>The work file type TRANSFER can handle dynamic
                     variables. There is no size limit here.  The work file type
                     ENTIRECONNECTION cannot handle dynamic variables. They can
                     both, however, handle large variables
                     with a maximum field/record length of 107341824 bytes.
                  </p> 
                            
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td nowrap> 
                  
                  <p class="mini-list"> 
                               <a href="definewo.htm#portable">PORTABLE</a><br> 
                               <a href="definewo.htm#unformatted_winux">UNFORMATTED</a> 
                              
                  </p>
               </td> 
                       
               <td> 
                  
                  <p>Large and dynamic variables can be written into work files or read
                     from work files using the two work file types PORTABLE and UNFORMATTED. For
                     these types, there is no size restriction for dynamic variables. However, large
                     variables may not exceed a maximum field/record length of 32766 bytes.
                  </p> 
                           
                  <p>Reading a dynamic variable from a PORTABLE work file leads to
                               resizing to the stored length.
                  </p> 
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <td nowrap><a href="definewo.htm#csv">CSV</a></td> 
                       
               <td>The maximum field/record length is 32766 bytes for dynamic and
                  large variables. Dynamic variables are supported. X-arrays are not allowed and
                  will result in an error message. 
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
        
        
      <div class="noprint">
         <p><a href="readwork.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="Example_readwork"></a></div> 
         
      <h2> Example </h2> 
          
          <pre class="verbatim">** Example 'RWFEX1': READ WORK FILE                                     
************************************************************************
DEFINE DATA LOCAL                                                       
1 EMPLOY-VIEW VIEW OF EMPLOYEES                                         
  2 PERSONNEL-ID                                                        
  2 NAME                                                                
*                                                                       
1 #RECORD                                                               
  2 #PERS-ID (A8)                                                       
  2 #NAME    (A20)                                                      
END-DEFINE                                                              
*                                                                       
FIND EMPLOY-VIEW WITH CITY = 'STUTTGART'                                
  WRITE WORK FILE 1                                                     
        PERSONNEL-ID NAME                                               
END-FIND                                                                
*                                                                       
* ...                                                                   
*                                                                       
<strong>READ WORK FILE 1 RECORD #RECORD</strong>
  DISPLAY NOTITLE #PERS-ID #NAME
<strong>END-WORK</strong>                   
*                               
END                            </pre> 
          <h4 class="floating-title">Output of Program RWFEX1:</h4> <pre class="system-output">#PERS-ID        #NAME        
-------- --------------------
                             
11100328 BERGHAUS            
11100329 BARTHEL             
11300313 AECKERLE            
11300316 KANTE               
11500304 KLUGE               
11500308 DIETRICH            
11500318 GASSNER             
11500343 ROEHM               
11600303 BERGER              
11600320 BLAETTEL            
11500336 JASPER              
11100330 BUSH                
11500328 EGGERT             </pre> 
          
        
       <div class="noprint">
         <div class="nospy">
            <p><a href="readwork.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/readwork.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/readwork.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="read.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="redefine.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>