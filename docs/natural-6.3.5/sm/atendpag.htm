
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="generator" content="Sagdoc XSL Stylesheets">
      <link rel="stylesheet" type="text/css" href="../general/style2.css"><script language="JavaScript" src="../general/selbox.js"></script><script type="text/javascript" language="javascript">
         <!--
window.name = 'contents';
//--></script><title>AT END OF PAGE</title>
   </head>
   <body bgcolor="#FFFFFF" background="../graphics/bar.png" style="margin-left: 20px;">
      <div><a name="atendpag" id="16753"></a></div>
      <div class="noprint">
         <div class="nospytext">
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td colspan="2" class="topline"><a name="Top"></a>&nbsp;<img src="../graphics/natux_logo.png"></td>
                  <td class="topline" align="right"><img src="../graphics/sag_logo.png">&nbsp;
                  </td>
               </tr>
               <tr>
                  <td class="header" nowrap><img src="../graphics/blank.png" width="3" height="10"></td>
                  <td class="header"><img src="../graphics/blank.png" width="3">Version&nbsp;6.3.5 for UNIX
                  </td>
                  <td class="toplinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/atendpag.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/atendpag.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="atenddat.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="atstart.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div class="nospytext" style="margin-top:0.25in;">
         <div><span class="module">&nbsp;&#8212;&nbsp;&nbsp;Statements&nbsp;&nbsp;&#8212;</span></div>
      </div> 
        
      <div class="nospytext">
         <h1>AT END OF PAGE 
               <a name="x31"></a></h1>
      </div> 
         
         
      <div><a name="Structured_Mode_Syntax_atendpag"></a></div>
      <h4 class="floating-title"> Structured Mode
             Syntax
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3">  
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td colspan="NaN"> [<code class="keyword">AT</code>]&nbsp;<a href="atendpag.htm#Function_at_end_of_page"><code class="keyword">END</code></a> [<code class="keyword">OF</code>]&nbsp;<a href="atendpag.htm#Function_at_end_of_page"><code class="keyword">PAGE</code></a>
                          [<a href="atendpag.htm#atendpag-rep">(<var>rep</var>)</a>]
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td> &nbsp;&nbsp; <a href="synsym.htm#note_statement"><var>statement</var></a>
                          <img src="../graphics/dot3.gif" alt="../graphics/dot3.gif" width="12" height="4"></td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td><a href="atendpag.htm#end_endpage"> <code class="keyword">END-ENDPAGE</code></a></td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <div><a name="Reporting_Mode_Syntax_atendpag"></a></div>
      <h4 class="floating-title"> Reporting Mode
             Syntax
      </h4> 
          
          
      <table border="0" class="syntax" cellpadding="3">  
              
         <tbody align="left" valign="top"> 
                  
            <tr> 
                      
               <td colspan="3">[<code class="keyword">AT</code>]&nbsp;<a href="atendpag.htm#Function_at_end_of_page"><code class="keyword">END</code></a>&nbsp;[<code class="keyword">OF</code>]&nbsp;<a href="atendpag.htm#Function_at_end_of_page"><code class="keyword">PAGE</code></a>
                          [<a href="atendpag.htm#atendpag-rep">(<var>rep</var>)</a>]
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbo2.gif" alt="" width="6" height="38"></p>
               </td> 
                      
               <td><a href="synsym.htm#note_statement">
                     <var>statement</var></a></td> 
                      
               <td rowspan="2"> 
                  
                  <p><img src="../graphics/cbc2.gif" alt="" width="6" height="38"></p>
               </td> 
                     
            </tr> 
                  
            <tr> 
                      
               <td><a href="dodoend.htm#dodoend">
                     <code class="keyword">DO</code></a><a href="dodoend.htm#dodoend">
                             <var>statement</var></a>
                          <img src="../graphics/dot3.gif" alt="../graphics/dot3.gif" width="12" height="4">
                          <a href="dodoend.htm#dodoend"> <code class="keyword">DOEND</code></a></td> 
                     
            </tr> 
                 
         </tbody> 
             
      </table> 
          
         
      <p>This document covers the following topics:</p>
         
      <ul>
         <li>
            <p class="initem"><a href="atendpag.htm#Function_at_end_of_page">Function</a></p>
         </li>
         <li>
            <p class="initem"><a href="atendpag.htm#syntax_descr_at_end_of_page">Syntax Description</a></p>
         </li>
         <li>
            <p class="initem"><a href="atendpag.htm#at_end_of_page_exa">Example</a></p>
         </li>
      </ul> 
         
      <p>For an explanation of the symbols used in the syntax diagram, see
             <a href="synsym.htm#Syntax_Symbols">Syntax
            Symbols</a>.
      </p> 
         
      <p>Related Statements: <a href="attoppag.htm#attoppag">AT TOP OF
                PAGE</a> | <a href="closepri.htm#closepri">CLOSE PRINTER</a> |
             <a href="definepr_uw.htm#definepr_uw">DEFINE PRINTER</a> |
             <a href="display.htm#display">DISPLAY</a> | <a href="eject.htm#eject">EJECT</a> | <a href="format.htm#format">FORMAT</a> | <a href="newpage.htm#newpage">NEWPAGE</a> | <a href="printsm.htm#printsm">PRINT</a> | <a href="skip.htm#skip">SKIP</a>
             | <a href="suspend.htm#suspend">SUSPEND IDENTICAL SUPPRESS</a> |
             <a href="write.htm#write">WRITE</a> | <a href="writeti.htm#writeti">WRITE TITLE</a> | <a href="writetra.htm#writetra">WRITE
                TRAILER</a></p> 
         
      <p>Belongs to Function Group:
             <a href="stmt.htm#Creation_of_Output_Reports">Creation of Output
            Reports</a></p> 
        
      <hr> 
        
      <div><a name="Function_at_end_of_page"></a></div> 
         
      <h2>Function</h2> 
          
          
      <p>The <code>AT END OF PAGE</code> statement is used to specify processing
              that is to be performed when an end-of-page condition is detected (see the
              session parameter <a href="../parms/ps.htm"><code>PS</code></a> in the
              <cite>Parameter Reference</cite>). An end-of-page condition may also
              occur as a result of a <a href="skip.htm#skip"><code>SKIP</code></a>
              or <a href="newpage.htm#newpage"><code>NEWPAGE</code></a> statement, but
              not as a result of an <a href="eject.htm#eject"><code>EJECT</code></a>
              or <a href="input.htm#input"><code>INPUT</code></a> statement.
      </p> 
          
      <p>See also the following sections in the <cite>Programming
                 Guide</cite>:
      </p> 
          
      <ul> 
              
         <li> 
                  
            <p class="initem"> <a href="../pg/pg_output-over.htm">Controlling Data
                  Output</a></p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem"> <a href="../pg/pg_output_rep.htm">Report Specification
                  - (rep) Notation</a></p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem"> <a href="../pg/pg_output_layout.htm">Layout of an
                  Output Page</a></p> 
                 
         </li> 
              
         <li> 
                  
            <p class="initem"> <a href="../pg/pg_output_titles.htm#AT_END_OF_PAGE_Statement">AT END OF
                  PAGE Statement</a></p> 
                 
         </li> 
             
      </ul> 
          
         
      <div><a name="d0e6435"></a></div> 
          
      <h3>Processing</h3> 
           
           
      <p>An <code>AT END OF PAGE</code> statement block is only executed if the
               object which contains the statement block is active at the time when the
               end-of-page condition occurs.
      </p> 
           
      <p>An <code>AT END OF PAGE</code> statement must not be placed within an
               inline subroutine.
      </p> 
           
      <p>This statement is non-procedural, that is, its execution depends on an
               event, not on where in a program it is located.
      </p> 
           
          
         
      <div><a name="Logical_Page_Size_at_end_of_page"></a></div> 
          
      <h3>Logical Page Size</h3> 
           
           
      <p>The end-of-page check is performed after the processing of a
               <a href="display.htm#display"><code>DISPLAY</code></a> or
               <a href="write.htm#write"><code>WRITE</code></a> statement is
               completed. Therefore, if a <code>DISPLAY</code> or <code>WRITE</code> statement
               produces multiple lines of output, overflow of the physical page may occur
               before an end-of-page condition is detected.
      </p> 
           
      <p>A logical page size (session parameter <a href="../parms/ps.htm"><code>PS</code></a>) which is less than
               the physical page size must be specified to ensure that information printed by
               an <code>AT END OF PAGE</code> statement appears on the same physical page as
               the title.
      </p> 
           
          
         
      <div><a name="Last_Page_Handling_at_end_of_page"></a></div> 
          
      <h3>Last-Page Handling</h3> 
           
           
      <p>Within a main program, an end-of-page condition is activated when the
               execution of the main program terminates via <a href="escape.htm#escape"><code>ESCAPE</code></a>, <a href="stop.htm#stop"><code>STOP</code></a> or <a href="end.htm#end"><code>END</code></a>.
      </p> 
           
      <p>Within a subroutine, an end-of-page condition is not activated when the
               execution of the subroutine terminates via <a href="escape.htm#ESCAPE_ROUTINE"><code>ESCAPE-ROUTINE</code></a>,
               <code>RETURN</code> or <a href="definesu.htm#Subroutine_Termination"><code>END-SUBROUTINE</code></a>.
      </p> 
           
          
         
      <div><a name="System_Functions_at_end_of_page"></a></div> 
          
      <h3>System Functions</h3> 
           
           
      <p>Natural system functions may be used in conjunction with an <code>AT
            END OF PAGE</code> statement as described in the section
               <a href="../func/func_sf.htm#General_Information">Using System
            Functions in Processing Loops</a> in the
               <a href="../func/func-over.htm">System
            Functions</a> documentation.
      </p> 
           
      <p>If a system function is to be used within an <code>AT END OF
            PAGE</code> statement block, the <a href="display.htm#GIVE_SF"><code>GIVE SYSTEM
               FUNCTIONS</code></a> clause must be specified in the corresponding
               <a href="display.htm#display"><code>DISPLAY</code></a> statement.
      </p> 
           
          
         
      <div><a name="INPUT_Statement_with_AT_END_OF_PAGE"></a></div> 
          
      <h3>INPUT Statement with AT END OF PAGE</h3> 
           
           
      <p>If an <a href="input.htm#input"><code>INPUT</code></a>
               statement is specified within an <code>AT END OF PAGE</code> statement block,
               no new page operation is performed. The page size (session parameter
               <a href="../parms/ps.htm"><code>PS</code></a>) must be
               reduced to a value that allows the lines created by the <code>INPUT</code>
               statement to appear on the same physical page.
      </p> 
           
      <p>See also:</p> 
           
      <ul> 
               
         <li> 
                   
            <p class="initem"><a href="input.htm#Split-Screen_Feature">Split Screen
                  Feature</a> of <a href="input.htm#input"><code>INPUT</code></a> Statement
            </p> 
                  
         </li> 
               
         <li> 
                   
            <p class="initem"> <a href="atendpag.htm#Example_2_at_end_of_page">Example 2 -
                  AT END OF PAGE with INPUT Statement</a></p> 
                  
         </li> 
              
      </ul> 
           
          
        
        
      <div class="noprint">
         <p><a href="atendpag.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="syntax_descr_at_end_of_page"></a></div> 
         
      <h2>Syntax Description</h2> 
          
           
           
      <table border="1" class="color" cellpadding="3" width="97%"> 
                
               
         <tbody align="left" valign="top"> 
                   
            <tr> 
                       
               <th nowrap> <a name="atendpag-rep"></a>(<var>rep</var>) 
               </th> 
                       
               <td> 
                  
                  <div><strong class="floating-title"> Report Specification:</strong></div> The
                           <a href="../pg/pg_output_rep.htm">notation
                              <code>(<var>rep</var>)</code></a> may be used to specify
                           the identification of the report for which the <code>AT END OF PAGE</code>
                           statement is applicable. A value in the range 0 - 31 or a logical name which
                           has been assigned using the <a href="definepr_uw.htm#definepr_uw">DEFINE
                              PRINTER</a> statement may be specified. 
                           
                  <p>If <code>(<var>rep</var>)</code> is not specified,
                               the <code>AT END OF PAGE</code> statement will apply to the first report
                               (Report 0). 
                  </p> 
                           
                  <p>For information on how to control the format of an output report
                               created with Natural, see <a href="../pg/pg_output-over.htm">Controlling Data
                                  Output</a> in the <cite>Programming Guide</cite>.
                               
                  </p>
               </td> 
                      
            </tr> 
                   
            <tr> 
                       
               <th nowrap> <a name="end_endpage"></a>END-ENDPAGE
               </th> 
                       
               <td> The Natural reserved word <code>END-ENDPAGE</code> must be used
                           to end the <code>AT END OF PAGE</code> statement. 
               </td> 
                      
            </tr> 
                  
         </tbody> 
              
      </table> 
           
          
        
        
      <div class="noprint">
         <p><a href="atendpag.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
      </div>
      <div><a name="at_end_of_page_exa"></a></div> 
         
      <h2>Example</h2>
      <ul>
         <li>
            <p class="initem"><a href="atendpag.htm#Example_1_at_end_of_page">Example 1 - AT END OF PAGE</a></p>
         </li>
         <li>
            <p class="initem"><a href="atendpag.htm#Example_2_at_end_of_page">Example 2 - AT END OF PAGE with INPUT Statement</a></p>
         </li>
      </ul>
      <div><a name="Example_1_at_end_of_page"></a></div> 
          
      <h3>Example 1 - AT END OF PAGE</h3> 
           
           <pre class="verbatim">** Example 'AEPEX1S': AT END OF PAGE (structured mode)                  
************************************************************************
DEFINE DATA LOCAL                                                       
1 EMPLOY-VIEW VIEW OF EMPLOYEES                                         
  2 PERSONNEL-ID                                                        
  2 NAME                                                                
  2 JOB-TITLE                                                           
  2 SALARY    (1)                                                       
  2 CURR-CODE (1)                                                       
END-DEFINE                                                              
*                                                                       
FORMAT PS=10                                                            
LIMIT 10                                                                
READ EMPLOY-VIEW BY PERSONNEL-ID FROM '20017000'                        
  DISPLAY NOTITLE GIVE SYSTEM FUNCTIONS                                 
          NAME JOB-TITLE 'SALARY' SALARY(1) CURR-CODE (1)               
  /*                                                                    
 
<strong> AT END OF PAGE                                                        
    WRITE / 28T 'AVERAGE SALARY: ...' AVER(SALARY(1)) CURR-CODE (1)
  END-ENDPAGE</strong>


END-READ     
*            
END         </pre> 
           <p>See also <a href="../func/func_sf.htm">Natural System
            Functions for Use in Processing Loops</a>.
      </p> 
           
      <h4 class="floating-title">Output of Program AEPEX1S:</h4> <pre class="system-output">        NAME                  CURRENT            SALARY   CURRENCY
                             POSITION                       CODE  
-------------------- ------------------------- ---------- --------
                                                                  
CREMER               ANALYST                        34000 USD     
MARKUSH              TRAINEE                        22000 USD     
GEE                  MANAGER                        39500 USD     
KUNEY                DBA                            40200 USD     
NEEDHAM              PROGRAMMER                     32500 USD     
JACKSON              PROGRAMMER                     33000 USD     
                                                                  
                           AVERAGE SALARY: ...      33533 USD    </pre> 
           <p>Equivalent reporting-mode example:
               <a href="sm_exas.htm#atendpag_sm_exas">AEPEX1R</a>.
      </p> 
          
      <div><a name="Example_2_at_end_of_page"></a></div> 
          
      <h3>Example 2 - AT END OF PAGE with INPUT Statement</h3> 
           
           <pre class="verbatim">** Example 'AEPEX2': AT END OF PAGE (with INPUT)                        
************************************************************************
DEFINE DATA LOCAL                                                       
1 EMPLOY-VIEW VIEW OF EMPLOYEES                                         
  2 NAME                                                                
  2 FIRST-NAME                                                          
  2 POST-CODE                                                           
  2 CITY                                                                
*                                                                       
1 #START-NAME (A20)                                                     
END-DEFINE                                                              
*                                                                       
FORMAT PS=21                                                            
*                                                                       
REPEAT                                                                  
  READ (15) EMPLOY-VIEW BY NAME = #START-NAME                           
    DISPLAY NOTITLE NAME FIRST-NAME POST-CODE CITY                      
  END-READ                                                              
  NEWPAGE                                                               
  /*                                                 
 <strong>AT END OF PAGE                                     
    MOVE NAME TO #START-NAME                         
    INPUT / '-' (79)                                 
          / 10T 'Reposition to name ==&gt;'             
                #START-NAME (AD=MI) '(''.'' to exit)'
    IF #START-NAME = '.'                             
      STOP                                           
    END-IF                                           
  END-ENDPAGE</strong>
  /*                                                 
END-REPEAT                                           
END                                                 </pre> 
           <h4 class="floating-title">Output of Program AEPEX2S:</h4> <pre class="system-output">        NAME              FIRST-NAME        POSTAL           CITY              
                                           ADDRESS                             
-------------------- -------------------- ---------- --------------------      
                                                                               
ABELLAN              KEPA                 28014      MADRID                    
ACHIESON             ROBERT               DE3 4TR    DERBY                     
ADAM                 SIMONE               89300      JOIGNY                    
ADKINSON             JEFF                 11201      BROOKLYN                  
ADKINSON             PHYLLIS              90211      BEVERLEY HILLS            
ADKINSON             HAZEL                20760      GAITHERSBURG              
ADKINSON             DAVID                27514      CHAPEL HILL               
ADKINSON             CHARLIE              21730      LEXINGTON                 
ADKINSON             MARTHA               17010      FRAMINGHAM                
ADKINSON             TIMMIE               17300      BEDFORD                   
ADKINSON             BOB                  66044      LAWRENCE                  
AECKERLE             SUSANNE              7000       STUTTGART                 
AFANASSIEV           PHILIP               39401      HATTIESBURG               
AFANASSIEV           ROSE                 60201      EVANSTON                  
AHL                  FLEMMING             2300       SUNDBY                    
                                                                               
-------------------------------------------------------------------------------
         Reposition to name ==&gt; AHL                  ('.' to exit)            </pre> 
          
       <div class="noprint">
         <div class="nospy">
            <p><a href="atendpag.htm#Top"><img src="../graphics/uparrow.png" alt="Top of page" height="17" width="17" border="0"></a></p>
            <table border="0" cellpadding="0" cellspacing="0" width="97%">
               <col width="15%">
               <col width="34%">
               <col width="48%">
               <tr>
                  <td class="footer"><img src="../graphics/blank.png" width="3" height="10">&nbsp;<a class="navig" target="_blank" href="http://www.softwareag.com">www.softwareag.com</a>&nbsp;
                  </td>
                  <td nowrap class="footer"><img src="../graphics/blank.png" width="3"><a class="navig" href="../general/legal.htm" target="_blank">Copyright &copy; Software AG 1992-2008. All rights reserved.&nbsp;</a></td>
                  <td class="bottomlinks" align="right" nowrap><img src="../graphics/blank.png" width="3"><a class="navig" target="_blank" href="../fts/search.htm" onclick="window.open('../fts/search.htm', 'fts', 'dependent,width=555,height=420,resizable'); return false">SEARCH</a>
                     &nbsp;&nbsp;<a class="navig" href="javascript:sized_window('../navig/navig.htm')" onclick="document.cookie='sagphdcc=../sm/atendpag.htm;path=/'; window.open('../navig/navig.htm', 'nvgtr', 'dependent,width=450,height=270,resizable'); return false">CONTENTS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="http://documentation.softwareag.com/natural/nat635unx/pdf/sm/atendpag.pdf">PDF PAGE</a>
                     &nbsp;&nbsp;<a class="navig" target="_blank" href="../general/print.htm">PDF BOOKS</a>&nbsp;&nbsp;&nbsp;|
                     &nbsp;&nbsp;<a class="navig" href="../overview.htm">HOME</a>
                     &nbsp;&nbsp;<a class="navig" href="sm-over.htm">UP</a>
                     &nbsp;&nbsp;<a class="navig" href="atenddat.htm">PREV</a>
                     &nbsp;&nbsp;<a class="navig" href="atstart.htm">NEXT</a></td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>